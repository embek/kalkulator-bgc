/*
  Kalkulator BGC – CSS ringkas (mobile-first)
  Tujuan: konsisten gap antar elemen, sedikit breakpoint, ~500 baris.
  Breakpoints: base (mobile), ≥600 (sm), ≥768 (md), ≥1024 (lg) bila perlu.
*/

/* ============== Variabel & Reset ============== */
/* ============== Design Tokens Global (Terkonsolidasi) ============== */
:root {
	/* Warna dasar */
	--warna-primer: #2563eb; /* Aksen utama (blue-600) */
	--warna-primer-teks: #ffffff;
	--warna-teks: #0f172a;
	--warna-latar: #f8fafc; /* slate-50 */
	--warna-kartu: #ffffff;
	--warna-border: #e2e8f0; /* slate-200 */
	--warna-aksen: #2563eb;
	--warna-bahaya: #c62828;

	/* Spasi (gunakan clamp untuk responsif ringan) */
	--sp-0: 0;
	--sp-1: clamp(.25rem, .6vw, .35rem);
	--sp-2: clamp(.5rem, 1vw, .6rem);
	--sp-3: clamp(.75rem, 1.5vw, .85rem);
	--sp-4: clamp(1rem, 2vw, 1.1rem);
	--sp-5: clamp(1.25rem, 2.5vw, 1.35rem);
	--sp-6: clamp(1.5rem, 3vw, 1.6rem);
	--sp-7: clamp(2rem, 4vw, 2.25rem);
	--sp-8: clamp(2.5rem, 5vw, 2.75rem);

	/* Radius & bayangan */
	--radius: .875rem; /* ~14px */
		--bayangan-kartu: 0 2px 6px rgba(16,24,40,.06), 0 4px 10px -2px rgba(16,24,40,.06);

	/* Tipografi */
	--fs-2xs: .72rem;  /* ≈11.5px meta kecil */
	--fs-xs:  .80rem;  /* badge / label */
	--fs-sm:  .88rem;  /* body */
	--fs-md:  .95rem;  /* sub-heading */
	--fs-base:1rem;    /* paragraf */
	--fs-lg:  1.125rem;/* h2 / judul seksi */
	--fs-xl:  1.25rem; /* highlight angka */
	--lh-tight: 1.2;
	--lh-normal:1.35; /* pengganti --lh-n */
	--lh-comfy:1.45; /* pengganti --lh-c */
	/* Alias legacy (akan dihapus setelah refactor penuh) */
	--lh-n: var(--lh-normal);
	--lh-c: var(--lh-comfy);

	/* Bobot font */
	--fw-reg: 400;
	--fw-med: 500;
	--fw-semi:600;
	--fw-bold:700;
	--fw-xbold:800;

	/* Transisi & tinggi app bar */
	--transisi: .25s cubic-bezier(.4,0,.2,1);
	--appbar-h: clamp(2.75rem, 6vh, 3.25rem);

	/* Nav / Chip */
	--nav-bg:#ffffff; --nav-border:#e6ebf1;
	--chip-bg:#ffffff; --chip-border:#e6ebf1;
	--chip-color: var(--warna-aksen);
	--chip-active-bg: var(--warna-aksen); --chip-active-color:#ffffff;

	font-size:16px; /* basis rem */
}

[data-tema='gelap'] {
	--warna-latar:#0f141a; --warna-kartu:#1b242f; --warna-border:#2a3644; --warna-teks:#e5edf7;
	--nav-bg: rgba(9,28,48,.9); --nav-border: rgba(255,255,255,.12);
	--chip-bg:#223040; --chip-border:#2d3a46; --chip-color:#9ecbff; --chip-active-bg: var(--warna-aksen); --chip-active-color:#e3f2fd;
}

*, *::before, *::after { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
html, body { margin:0; padding:0; overflow-x:hidden; }
body {
	font-family: 'Inter', system-ui, Arial, sans-serif; font-size:16px; color:var(--warna-teks);
	line-height: var(--lh-comfy); background: var(--warna-latar); display:flex; flex-direction:column;
}
[hidden] { display:none !important; }

/* ============== App bar ============== */
.app-bar {
  position: fixed; inset: 0 0 auto 0; z-index: 50; background:#fff; color:var(--warna-teks);
  padding: .4rem max(1rem, env(safe-area-inset-left)) .4rem max(1rem, env(safe-area-inset-right));
  box-shadow: 0 1px 0 var(--warna-border); display:flex; align-items:center; justify-content:space-between; gap: var(--sp-2);
}
.app-bar h1 { margin:0; font-weight:var(--fw-xbold); letter-spacing:.2px; font-size: var(--fs-lg); white-space:normal; line-height:var(--lh-tight); }
.app-bar #btn-menu { width:2.25rem; height:2.25rem; border-radius:10px; display:inline-flex; align-items:center; justify-content:center; border:1px solid var(--warna-border); background:#fff; color:var(--warna-teks); cursor:pointer; }
.app-bar #btn-ringkas { width:2.25rem; height:2.25rem; border-radius:10px; display:inline-flex; align-items:center; justify-content:center; border:1px solid var(--warna-border); background:#fff; color:var(--warna-teks); cursor:pointer; margin-left:auto; }
.app-bar .btn { padding:.35rem .6rem; font-size:.8rem; }
[data-tema='gelap'] .app-bar { background:#0b1220; box-shadow: 0 1px 0 rgba(255,255,255,.08); }
[data-tema='gelap'] .app-bar #btn-ringkas { background:#223040; color:#9ecbff; border-color:#2d3a46; }

/* ============== Konten ============== */
.konten { flex:1; width:100%; max-width: min(92vw, 55rem); margin:0 auto; padding: var(--sp-4) var(--sp-4) var(--sp-6); padding-top: calc(var(--sp-4) + var(--appbar-h)); }

/* Headings & teks */
.deskripsi { font-size: var(--fs-sm); line-height: var(--lh-normal); margin: 0; color:#45515f; font-weight:var(--fw-reg); }

/* ================== Penyesuaian Margin Heading Global ================== */
/* Default browser memberikan margin block cukup besar (≈1em). Kita kompakkan agar hierarki rapat tapi tetap bernafas */
h2 { margin:.7rem 0 .5rem; line-height: var(--lh-tight); }
h3 { margin:.55rem 0 .4rem; line-height: var(--lh-tight); }
/* Biarkan komponen yang sudah punya aturan margin spesifik (mis. .data-bangunan h2, .ringkasan h2) tetap override */

/* Subjudul di panel panduan gabungan */
.subjudul-panduan { font-size: var(--fs-md); font-weight: var(--fw-semi); line-height: var(--lh-tight); margin:.5rem 0 .35rem; letter-spacing:.2px; }
#panduan-awal .subjudul-panduan:first-of-type { margin-top:.25rem; }

/* Label blok (pengganti h3 internal di panel panduan agar hanya satu heading utama) */
.label-blok { font-size: var(--fs-sm); font-weight: var(--fw-semi); text-transform:uppercase; letter-spacing:.45px; color:#37414c; margin:.65rem 0 .3rem; line-height:var(--lh-tight); }
#panduan-awal .label-blok:first-of-type { margin-top:.35rem; }
.pemisah-kecil { border:none; border-top:1px solid var(--warna-border); margin:.65rem 0 .5rem; opacity:.65; }
[data-tema='gelap'] .label-blok { color:#cfe1f1; }
[data-tema='gelap'] .pemisah-kecil { border-color:#2a3644; opacity:.5; }

/* ================== Modal Upload Drag & Drop ================== */
.modal-upload { position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:1200; }
.modal-upload[aria-hidden="false"] { display:flex; }
.modal-upload .modal-backdrop { position:absolute; inset:0; background:rgba(15,23,42,.55); backdrop-filter:blur(2px); }
.modal-upload .modal-dialog { position:relative; width:min(560px, 94vw); max-height:85vh; overflow:hidden; background:var(--warna-kartu); color:var(--warna-teks); border:1px solid var(--warna-border); border-radius:18px; box-shadow:0 24px 64px -10px rgba(15,23,42,.55), 0 6px 18px -6px rgba(15,23,42,.35); padding:1.05rem 1.1rem 1.2rem; display:flex; flex-direction:column; gap:.9rem; animation: masuk .35s ease; backdrop-filter: saturate(1.1); }
.modal-upload .modal-close { position:absolute; top:.55rem; right:.55rem; width:2.2rem; height:2.2rem; border-radius:12px; border:1px solid var(--warna-border); background:#fff; font-weight:800; font-size:1.1rem; cursor:pointer; display:inline-flex; align-items:center; justify-content:center; transition:.2s; }
.modal-upload .modal-close:hover { background:#f1f5f9; }
.modal-upload .modal-close:focus-visible { outline:2px solid #2563eb; }
@media (hover:hover){ .modal-upload .modal-close:active { transform:scale(.94); } }
[data-tema='gelap'] .modal-upload .modal-close { background:#223040; color:#9ecbff; border-color:#2d3a46; }
[data-tema='gelap'] .modal-upload .modal-close:hover { background:#1a2835; }
[data-tema='gelap'] .modal-upload .modal-close:focus-visible { outline:2px solid var(--warna-aksen); }

/* Toast (notifikasi ringan) */
#toast { position:fixed; right:max(1rem, env(safe-area-inset-right)); top:calc(var(--appbar-h, 3.25rem) + .6rem + env(safe-area-inset-top)); background:#ffffff; color:#0f172a; padding:.6rem .8rem; font-size:var(--fs-xs); font-weight:var(--fw-semi); border-radius:10px; letter-spacing:.3px; border:1px solid var(--warna-border); box-shadow:0 6px 18px rgba(16,24,40,.16); z-index:999; opacity:0; transition:.35s cubic-bezier(.4,0,.2,1); pointer-events:none; transform:translate(8px,-8px); }
[data-tema='gelap'] #toast { background:#223040; color:#e5edf7; border-color:#2d3a46; box-shadow:0 6px 18px rgba(0,0,0,.45); }
.upload-dropzone { position:relative; }
.upload-dropzone:focus-visible { outline:2px solid #2563eb; outline-offset:2px; }
.upload-dropzone .ikon { font-size:2.6rem; }
.upload-aksi .btn { flex:0 0 auto; }
@media (max-width:480px){
	.modal-upload .modal-dialog { padding:.9rem .85rem 1rem; gap:.75rem; }
	.upload-dropzone { padding:.9rem .75rem 1rem; }
}
.modal-upload .modal-title { margin:0; font-size: var(--fs-lg); font-weight: var(--fw-xbold); letter-spacing:.3px; }
.modal-upload .modal-keterangan { margin:.1rem 0 .25rem; font-size: var(--fs-sm); line-height: var(--lh-normal); color:#4a5662; }
.upload-dropzone { border:2px dashed #94a3b8; border-radius:16px; padding:1.1rem .9rem 1.15rem; background:#f1f5f9; display:flex; flex-direction:column; align-items:center; text-align:center; gap:.45rem; cursor:pointer; outline:none; transition:.25s; }
.upload-dropzone:hover, .upload-dropzone:focus { background:#e2e8f0; border-color:#64748b; }
.upload-dropzone.dz-active { background:#dbeafe; border-color:#2563eb; box-shadow:0 0 0 3px rgba(37,99,235,.35); }
.upload-dropzone .ikon { font-size:2.4rem; color:#0d47a1; line-height:1; }
.upload-dropzone .dz-teks { font-size: var(--fs-sm); font-weight: var(--fw-semi); margin:0; }
.upload-dropzone .dz-hint { font-size: var(--fs-2xs); margin:0; color:#5d6a78; }
.upload-dropzone .dz-loading { display:flex; flex-direction:row; gap:.5rem; align-items:center; margin-top:.4rem; font-size:var(--fs-xs); font-weight:var(--fw-semi); }
.upload-dropzone .dz-loading .spinner { width:16px; height:16px; border:3px solid #93c5fd; border-top-color:#2563eb; border-radius:50%; animation: putar .75s linear infinite; }
.upload-dropzone.dz-busy { opacity:.6; pointer-events:none; }
/* Error state untuk dropzone saat berkas tidak valid */
.upload-dropzone.dz-error { background:#fee2e2; border-color:#dc2626; box-shadow:0 0 0 3px rgba(220,38,38,.2); }
.upload-dropzone.dz-error .dz-teks { color:#7f1d1d; }
.upload-dropzone.dz-error .dz-hint { color:#991b1b; }
@keyframes putar { from { transform:rotate(0deg);} to { transform:rotate(360deg);} }
.upload-aksi { display:flex; gap:.6rem; flex-wrap:wrap; justify-content:flex-end; margin-top:.25rem; }
.modal-upload .btn.kecil, .btn.btn-kecil { font-size: var(--fs-xs); padding:.5rem .7rem; font-weight: var(--fw-bold); }
[data-tema='gelap'] .modal-upload .modal-dialog { background:#0b1220; color:#e5edf7; border-color:#2a3644; }
[data-tema='gelap'] .modal-upload .modal-keterangan { color:#9eb7cc; }
[data-tema='gelap'] .upload-dropzone { background:#172131; border-color:#334155; }
[data-tema='gelap'] .upload-dropzone:hover, [data-tema='gelap'] .upload-dropzone:focus { background:#1f2c3a; border-color:#4b6277; }
[data-tema='gelap'] .upload-dropzone.dz-active { background:#15344b; border-color:#1976d2; box-shadow:0 0 0 3px rgba(25,118,210,.35); }
/* Dark mode: error state */
[data-tema='gelap'] .upload-dropzone.dz-error { background:#3b1416; border-color:#c62828; box-shadow:0 0 0 3px rgba(198,40,40,.25); }
[data-tema='gelap'] .upload-dropzone.dz-error .dz-teks { color:#f8dada; }
[data-tema='gelap'] .upload-dropzone.dz-error .dz-hint { color:#f1bcbc; }


/* ============== Komponen umum ============== */
.card { background: var(--warna-kartu); border:1px solid var(--warna-border); border-radius: var(--radius); box-shadow: var(--bayangan-kartu); }
.btn { border:none; padding:.75rem .9rem; font-size: var(--fs-sm); font-weight:var(--fw-bold); letter-spacing:.3px; border-radius:12px; cursor:pointer; transition: .2s; display:inline-flex; align-items:center; justify-content:center; gap:.4rem; text-transform:uppercase; }
.btn:disabled, .btn[disabled] { opacity:.5; cursor:not-allowed; filter:saturate(.6); }
.btn.btn-kecil { padding:.45rem .6rem; font-size: var(--fs-xs); border-radius:10px; letter-spacing:.35px; }
.btn.primer { background: linear-gradient(135deg,#1565c0,#0d47a1); color:#fff; }
.btn.sekunder { background:#fff; color:#0d47a1; border:1px solid #0d47a1; }
.btn.sekunder:disabled, .btn.sekunder[disabled] { background:#f3f4f6; color:#9ca3af; border-color:#c9d2de; }
.btn.bahaya { background: linear-gradient(135deg,#e53935,#c62828); color:#fff; }

/* ============== Data Bangunan ============== */
.data-bangunan { margin-bottom: var(--sp-4); padding: var(--sp-4); }
.data-bangunan h2 { margin:0 0 var(--sp-2); font-size: var(--fs-lg); font-weight:var(--fw-bold); }
.grid-form { display:flex; flex-wrap:wrap; gap: var(--sp-3); }
.grid-form .grup-form { flex:1 1 100%; min-width:0; display:flex; flex-direction:column; gap: var(--sp-2); }
.grup-form .judul-grup, .grup-form label { font-size:var(--fs-xs); font-weight:var(--fw-bold); letter-spacing:.5px; text-transform:uppercase; color:#37414c; }
.grup-form select { width:100%; padding:.7rem .75rem; border:1px solid #c3cdd6; border-radius:10px; background:#fdfefe; font-size:.9rem; font-weight:500; }
[data-tema='gelap'] .grup-form select { background:#141b22; border-color:#3a4a59; color:#e7eef6; }

.radio-group { display:flex; flex-wrap:wrap; gap:.5rem .6rem; }
.radio-pill { display:inline-flex; align-items:center; gap:.45rem; padding:.45rem .6rem; border:1px solid #c3cdd6; background:#fdfefe; border-radius:999px; font-size:var(--fs-sm); font-weight:var(--fw-semi); color:#24313d; }
.radio-pill input { appearance:none; width:16px; height:16px; border-radius:50%; border:2px solid #1976d2; background:#fff; margin:0; }
.radio-pill input:checked { background:#1976d2; box-shadow: inset 0 0 0 3px #fff; }
[data-tema='gelap'] .radio-pill { background:#141b22; border-color:#3a4a59; color:#e7eef6; }

/* ============== Parameter – Checklist mode ============== */
.parameter { margin-bottom: var(--sp-4); }
.parameter-checklist { display:flex; flex-direction:column; gap: var(--sp-4); margin-top: var(--sp-3); }

/* Nav chip (atas/bawah/side) */
.param-nav { display:flex; gap:.5rem; padding:.3rem .4rem; overflow:auto hidden; border-radius:999px; border:1px solid rgba(203,215,228,.8); background: rgba(245,249,255,.75); justify-content:center; }
.param-nav .chip { flex:0 0 auto; padding:.4rem .6rem; font-size:.75rem; font-weight:800; border:1px solid var(--chip-border); background:var(--chip-bg); color:var(--chip-color); border-radius:999px; display:inline-flex; align-items:center; gap:.45rem; }
.param-nav .chip[aria-current="true"], .param-nav .chip.aktif { background: var(--chip-active-bg); color: var(--chip-active-color); border-color: var(--chip-active-bg); box-shadow: 0 4px 10px -3px rgba(30,136,229,.35); }
[data-tema='gelap'] .param-nav { background: rgba(255,255,255,.08); border-color: var(--nav-border); }
.param-nav.floating { position: fixed; left:50%; transform:translateX(-50%); bottom:max(.75rem, env(safe-area-inset-bottom)); z-index:60; background: var(--nav-bg); border-color: var(--nav-border); box-shadow: 0 8px 18px rgba(16,24,40,.12); padding:.35rem .5rem; }

/* Kartu Parameter */
.pc-parameter { border:1px solid var(--warna-border); background: var(--warna-kartu); border-radius:16px; box-shadow: var(--bayangan-kartu); padding:.25rem .95rem; display:flex; flex-direction:column; }
.pc-parameter summary { list-style:none; display:flex; align-items:center; gap:.75rem; padding:.6rem .2rem; cursor:pointer; }
.pc-parameter summary::-webkit-details-marker{ display:none; }
.pc-parameter summary .kode { background: var(--warna-primer); color:#fff; font-weight:var(--fw-bold); font-size:var(--fs-2xs); letter-spacing:.5px; padding:.35rem .6rem; border-radius:10px; }
.pc-parameter summary h3 { flex:1 1 auto; margin:0; font-size:var(--fs-md); font-weight:var(--fw-semi); line-height:1.25; }
.pc-parameter summary .maks { font-size:var(--fs-2xs); font-weight:var(--fw-bold); background:#eff6ff; color:#1e3a8a; padding:.3rem .55rem; border-radius:12px; letter-spacing:.4px; }

/* Kriteria & indikator */
.pc-kriteria { border:1px solid var(--warna-border); border-radius:14px; background:#f8fbfe; padding:.75rem; display:flex; flex-direction:column; gap:.6rem; }
.pc-kriteria h4 { margin:0; font-size:var(--fs-sm); font-weight:var(--fw-semi); line-height:1.35; display:flex; align-items:center; gap:.5rem; flex-wrap:wrap; }
.pc-kriteria .penjelasan { font-size:.72rem; color:#4a5662; margin:0; }
.pc-indikator { display:flex; flex-direction:column; gap:.5rem; }
.indikator-item { display:flex; flex-wrap:wrap; align-items:flex-start; gap:.5rem; padding:.6rem; border:1px solid #d6e0ea; background:#fff; border-radius:10px; }
.indikator-item .judul { font-size:var(--fs-sm); font-weight:var(--fw-semi); flex:1 1 auto; }
.indikator-item .meta { display:flex; flex-wrap:wrap; gap:.4rem .75rem; align-items:center; font-size:var(--fs-2xs); font-weight:var(--fw-semi); color:#4b5a67; letter-spacing:.4px; }
.indikator-item .opsi-radio { display:flex; flex-direction:column; gap:.3rem; flex: 1 1 100%; }
.indikator-item label { display:flex; align-items:flex-start; gap:.45rem; font-size:.72rem; line-height:1.25; font-weight:500; cursor:pointer; }

/* Klaim poin */
[data-claimed-base], [data-claimed-mult] { display:inline-flex; align-items:center; justify-content:center; background:#eef5ff; color:#0d47a1; padding:.45rem .6rem; border-radius:12px; font-weight:var(--fw-xbold); min-width:3.2rem; font-size:var(--fs-sm); }
[data-claimed-multiplier] { background:#fff3e0; color:#ef6c00; padding:.2rem .4rem; border-radius:10px; font-weight:800; font-size:.7rem; }

/* Badge kategori F (W/D/S) */
.f-elemen-badges { display:flex; flex-wrap:wrap; gap:.4rem .5rem; margin-top:.4rem; }
.f-elemen-badge { font-size:var(--fs-2xs); font-weight:var(--fw-bold); padding:.25rem .45rem; border-radius:14px; display:inline-flex; gap:.25rem; box-shadow:0 1px 2px rgba(0,0,0,.15); letter-spacing:.4px; }
.f-elemen-w { background:#e8f5e9; color:#1b5e20; }
.f-elemen-d { background:#fff3e0; color:#b45309; }
.f-elemen-s { background:#eceff1; color:#455a64; }

/* Subtotal */
.pc-kriteria .subtotal { font-size:var(--fs-2xs); font-weight:var(--fw-bold); background:#e3f2fd; color:#0d47a1; padding:.25rem .5rem; border-radius:10px; letter-spacing:.4px; }
.pc-parameter .subtotal-parameter { font-size:var(--fs-xs); font-weight:var(--fw-xbold); color:#0d47a1; background:#dbeeff; padding:.35rem .65rem; border-radius:12px; align-self:start; letter-spacing:.4px; }

/* ============== Hasil & Ringkasan ============== */
.ringkasan { margin-top: var(--sp-3); }
.ringkasan h2 { font-size: var(--fs-lg); margin:0 0 var(--sp-3); font-weight:var(--fw-bold); }
.card-total { padding: var(--sp-4); }
.total-item { display:flex; justify-content:space-between; font-size: var(--fs-sm); margin-bottom: var(--sp-2); }
.total-item strong { font-weight:700; }
.total-item.persen strong { font-size: var(--fs-lg); color: var(--warna-primer); }

progress { width:100%; height:.9rem; border:none; border-radius:.5rem; overflow:hidden; background:#e7edf3; }
progress::-webkit-progress-bar { background:#e7edf3; }
progress::-webkit-progress-value { background: linear-gradient(90deg,#1976d2,#42a5f5); border-radius:8px; }
progress::-moz-progress-bar { background: linear-gradient(90deg,#1976d2,#42a5f5); }

.hasil-grid { display:flex; flex-wrap:wrap; gap: var(--sp-3); justify-content:center; }
.hasil-item { background:#fff; border:1px solid var(--warna-border); box-shadow: var(--bayangan-kartu); padding:.55rem .65rem; display:flex; flex-direction:column; gap:.2rem; justify-content:center; align-items:center; text-align:center; flex:1 1 10rem; }
.hasil-item span { font-size:var(--fs-2xs); font-weight:var(--fw-bold); letter-spacing:.5px; color:#516171; text-transform:uppercase; }
.hasil-item strong { font-size:var(--fs-lg); font-weight:var(--fw-xbold); color:#1f2a37; line-height:1.15; }

/* ============== Aksi ============== */
.aksi { display:flex; gap: var(--sp-3); margin: var(--sp-5) 0 var(--sp-2); flex-direction: column; }
.aksi .btn { width:100%; }
/* Menu ekspor */
.menu-ekspor { position:relative; }
.menu-ekspor { position:absolute; z-index:200; margin-top:.35rem; background:var(--warna-kartu); border:1px solid var(--warna-border); border-radius:10px; box-shadow:0 8px 24px rgba(0,0,0,.15); padding:.35rem; display:flex; flex-direction:column; gap:.25rem; min-width:160px; }
.menu-ekspor .menu-item { background:#ffffff; border:1px solid var(--warna-border); border-radius:8px; padding:.45rem .6rem; font-size:var(--fs-xs); font-weight:var(--fw-semi); text-align:left; cursor:pointer; }
.menu-ekspor .menu-item:hover, .menu-ekspor .menu-item:focus { background:#f1f5f9; }
/* Spasi ikon pada tombol & menu */
/* .btn i, .menu-ekspor .menu-item i { margin-right:.4rem; font-size: .95em; } */
/* .btn i:last-child, .menu-ekspor .menu-item i:last-child { margin-right:.4rem; } */
/* Pastikan teks tetap inline */
.btn i { pointer-events:none; }
[data-tema='gelap'] .menu-ekspor { background:#1b242f; border-color:#2a3644; }
[data-tema='gelap'] .menu-ekspor .menu-item { background:#223040; border-color:#2d3a46; color:#e5edf7; }
[data-tema='gelap'] .menu-ekspor .menu-item:hover { background:#1a2835; }

/* Tombol impor awal (di antara disclaimer & data bangunan) */
.impor-awal { position:relative; display:flex; justify-content:flex-end; gap:.5rem; margin:.25rem 0 1rem; }
.impor-awal #btn-impor { width:auto !important; white-space:nowrap; flex:0 0 auto; font-weight:var(--fw-bold); }
@media (max-width:600px){
	.impor-awal { margin-top:.5rem; }
}

/* ============== Panel Bantuan ============== */
.panel-bantuan { margin: var(--sp-4) 0; padding: .75rem 1rem 1rem; }
.panel-bantuan { scroll-margin-top: calc(var(--appbar-h) + 16px); }
.panel-bantuan:first-of-type { margin-top: clamp(0px, calc(var(--appbar-h) - 1rem), 1.25rem); }
@media (max-width: 599px) { .panel-bantuan:first-of-type { margin-top: 0; } }
.panel-bantuan summary { cursor:pointer; font-weight:var(--fw-bold); font-size:var(--fs-md); }
.panel-bantuan[open] summary { margin-bottom:.5rem; }
.panel-bantuan ol { margin:.25rem 0 0 1rem; padding:0; font-size:.8rem; line-height:1.35; }

/* (Blok modal-info awal dihapus karena duplikat; definisi final berada di bagian bawah file) */

/* ============== Footer ============== */
.footer { text-align:center; font-size:var(--fs-2xs); padding: 1.25rem .75rem 2rem; color:#5d6a78; }

/* FAQ hierarchy: pertanyaan (summary) > jawaban (p) */
#faq details > summary { font-size: var(--fs-sm); font-weight: var(--fw-bold); line-height: var(--lh-tight); }
#faq details[open] > summary { margin-bottom:.4rem; }
#faq details > p { font-size: var(--fs-xs); line-height: var(--lh-normal); font-weight: var(--fw-med); margin:.15rem 0 .75rem; }
#faq details > p strong { font-weight: var(--fw-bold); }
#faq a { font-size: inherit; }
/* =====================================
	Blok Istilah Terkait (glossary injection)
	===================================== */
.blok-istilah { margin-top: .75rem; padding-top: .5rem; border-top: 1px dashed var(--warna-batas2, #ccc); }
.blok-istilah h4 { font-size: var(--fs-1, .875rem); letter-spacing: .5px; text-transform: uppercase; opacity:.8; margin:0 0 .25rem; }
.blok-istilah ul.istilah-terkait { list-style: disc inside; margin:0; padding:0; display:grid; gap:.25rem; }
.blok-istilah ul.istilah-terkait li { font-size: var(--fs-0, .8125rem); line-height:1.35; }
[data-tema='gelap'] .blok-istilah { border-top-color: var(--warna-batas2, #3a3f47); }

/* ============== Dark Mode detail ============== */
[data-tema='gelap'] .deskripsi { color:#9eb7cc; }
[data-tema='gelap'] .card, [data-tema='gelap'] .kartu-parameter, [data-tema='gelap'] .card-total, [data-tema='gelap'] .indikator-item { background:#1b242f; border-color:#2a3644; }
[data-tema='gelap'] .pc-kriteria { background:#19232d; }
[data-tema='gelap'] .pc-parameter .subtotal-parameter, [data-tema='gelap'] .pc-kriteria .subtotal { background:#15344b; color:#8bc4ff; }

/* ============== Input numerik umumnya ============== */
.input-grup { display:flex; align-items:center; gap: var(--sp-3); }
.input-grup input[type=number] { width: clamp(5.5rem, 22vw, 7rem); font-size:1rem; padding:.55rem .65rem; border-radius:10px; border:1px solid #c3cdd6; background:#fdfefe; font-weight:600; text-align:center; }
.input-grup input[type=number]:focus { outline:none; border-color: var(--warna-aksen); box-shadow: 0 0 0 2px rgba(25,118,210,.25); }

/* ============== Responsif (mobile-first) ============== */
@media (min-width: 600px) {
  .konten { padding: 1.25rem 1.25rem 2.5rem; padding-top: calc(1.25rem + var(--appbar-h)); }
  .aksi { flex-direction: row; align-items:center; flex-wrap: wrap; }
  .aksi .btn { flex:1 1 auto; width:auto; }
  .grid-form .grup-form { flex:1 1 min(20rem, 48%); }
}
@media (min-width: 768px) {
  .konten { padding: 1.5rem 1.75rem 3rem; padding-top: calc(1.5rem + var(--appbar-h)); }
  .pc-kriteria { flex-direction: row; align-items:flex-start; }
  .pc-kriteria h4 { flex: 0 0 clamp(16rem, 38%, 28rem); max-width: clamp(16rem, 38%, 28rem); margin:0; }
  .pc-kriteria .pc-indikator { flex:1 1 auto; min-width:0; }
}
@media (min-width: 1024px) {
  .konten { max-width: min(90vw, 60rem); }
}

/* ============== Utilitas kecil ============== */
.badge-utamanya { background:#256f2c; color:#e6ffed; }
.badge-madya { background:#c25400; color:#fff3e0; }
.badge-pratama { background:#0d47a1; color:#bbdefb; }
.badge-belum { background:#455a64; color:#cfd8dc; }

/* ============== Scroll & aksesibilitas ============== */
.parameter, .data-bangunan, #judul-data-bangunan, #judul-ringkasan, .pc-parameter { scroll-margin-top: calc(var(--appbar-h) + 20px); }
summary, label, select, input, button { touch-action: manipulation; }

/* ============== Optional reduced motion ============== */
@media (prefers-reduced-motion: reduce) {
  * { animation:none !important; transition:none !important; }
  html:focus-within { scroll-behavior:auto; }
}
/* --- CLS mitigation: reserve stable space and avoid big reflows --- */
/* Pastikan tinggi header tidak dipaksa terlalu besar; gunakan tinggi alami + kalkulasi JS */
/* Hilangkan min-height besar yang membuat banner tampak terlalu tinggi */


/* Reserve space for dynamic checklist content so first paint layout is stable */


/* Defer rendering of offscreen parameter blocks while reserving intrinsic size to prevent jumps */
.pc-parameter { content-visibility: auto; contain-intrinsic-size: 720px; }

@media (max-width: 640px) {
	.pc-parameter { contain-intrinsic-size: 880px; }
}

/* Ensure radio groups area has some initial height before JS populates */


/* Stabilize ringkasan and action blocks to avoid shifting when data appears */
.aksi { display:flex; gap:.75rem; margin:1.25rem 0 .25rem; flex-direction: column; align-items: stretch; }

/* Font fallback alignment to reduce swap-induced shifts */
body { font-size-adjust: 0.52; }
/*
	Style Kalkulator Penilaian BGC
	Fokus: Mobile-first, aksesibilitas, dan keterbacaan.
	Bahasa: Indonesia (komentar & variabel) sesuai permintaan.
*/

/* (blok :root duplikat dihapus; semua variabel sudah di bagian atas) */

*, *::before, *::after { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
html, body { margin:0; padding:0; overflow-x:hidden; }
html, body, #app, .konten, .parameter-checklist, .daftar-parameter, .pc-parameter, .kartu-parameter, .data-bangunan, .param-nav { max-width: 100%; }
* { max-width: 100%; }
body { word-wrap: break-word; overflow-wrap: anywhere; }
/* Pastikan atribut [hidden] selalu menyembunyikan elemen */
[hidden] { display: none !important; }
body {
	font-family: 'Inter', system-ui, Arial, sans-serif;
	color: #1f2933;
	line-height: 1.45;
	-webkit-font-smoothing: antialiased;
	display:flex;
	flex-direction:column;
	-webkit-text-size-adjust: 100%;
	overscroll-behavior-y: contain;
	background: var(--warna-latar);
}

.app-bar {
	background: #ffffff;
	color: #0f172a;
	/* Kompakkan padding vertikal */
	padding: .25rem max(.75rem, env(safe-area-inset-left)) .25rem max(1rem, env(safe-area-inset-right));
	box-shadow: 0 1px 0 var(--warna-border);
	position: fixed;
	top: 0; left: 0; right: 0; width: 100%;
	z-index: 50;
	display:flex; align-items:center; justify-content:space-between; gap:.5rem;
}
@media (min-width: 620px) {
	/* Flex-wrap sudah aktif; atur basis kartu agar menyerupai kolom grid */
	.kartu-parameter { flex: 1 1 clamp(14rem, 40vw, 20rem); }
}
/* Responsive tinggi progress pada 480-599px dikelompokkan dekat komponen */
@media (min-width: 480px) and (max-width: 599px) {
	/* Jaga tinggi progress, jangan override layout hasil */
	progress { height:16px; }
}
.app-bar h1 { font-size: .98rem; margin:0; letter-spacing:.2px; white-space:normal; font-weight:800; text-align:center; position:static; left:auto; transform:none; flex:1 1 auto; min-width:0; }
/* Variasi judul: default tampilkan lengkap */
.app-bar h1 .judul-bgc-singkat { display:none; }
/* Pastikan ada spasi sebelum BGC saat inline */
.app-bar h1 .judul-bgc-singkat { white-space:nowrap; }
@media (max-width: 520px) {
	/* Layar kecil: gunakan singkatan BGC dan sembunyikan frasa panjang & tahap */
	.app-bar h1 .judul-bgc-lengkap { display:none; }
	.app-bar h1 .judul-tahap { display:none; }
	.app-bar h1 .judul-bgc-singkat { display:inline; }
}
.app-bar #btn-tema { flex:0 0 auto; width:2.25rem; height:2.25rem; padding:0; border-radius:10px; display:inline-flex; align-items:center; justify-content:center; line-height:1; text-transform:none; }
/* Burger button mirrors theme button size, sits on the left */
#btn-menu { flex:0 0 auto; width:2.25rem; height:2.25rem; padding:0; border-radius:10px; display:inline-flex; align-items:center; justify-content:center; line-height:1; text-transform:none; }
/* Unify visual styles for both header icon buttons */
.app-bar #btn-menu {
	appearance: none;
	background: #ffffff;
	color: #0f172a;
	border: 1px solid var(--warna-border);
	box-shadow: none;
	transition: var(--transisi);
	cursor: pointer;
	margin: 0;
}
.app-bar #btn-menu:hover { background:#f8fafc; }
.app-bar #btn-ringkas:hover { background:#f8fafc; }
.app-bar #btn-menu:active { transform: translateY(1px); }
.app-bar #btn-ringkas:active { transform: translateY(1px); }
.app-bar #btn-menu:focus-visible { outline: none; box-shadow: 0 0 0 2px rgba(37,99,235,.35); border-color: var(--warna-aksen); }
.app-bar #btn-ringkas:focus-visible { outline: none; box-shadow: 0 0 0 2px rgba(37,99,235,.35); border-color: var(--warna-aksen); }
/* Compact button inside app bar to keep header short */
.app-bar .btn { padding: .35rem .6rem; font-size: .8rem; flex:0 0 auto; }
@media (min-width: 768px) {
	.app-bar h1 { font-size: 1.05rem; }
	/* no min-height override needed */
	#btn-menu { width:2.375rem; height:2.375rem; }
}
.app-bar .btn.sekunder { background:#fff; color:#0f172a; border:1px solid var(--warna-border); }
.app-bar .btn.sekunder:hover { background:#f8fafc; }

.konten { flex:1; width:100%; max-width: min(92vw, 55rem); margin: 0 auto; padding: 1rem clamp(.75rem,3vw,1.25rem) 1.5rem; padding-bottom: 1.5rem; }
.konten { padding-top: calc(1rem + var(--appbar-h)); }
/* Responsive padding & layout terkait dikelompokkan dekat .konten */
@media (min-width: 600px) and (max-width: 767px) {
	.konten { padding: 1.25rem 1.25rem 2.5rem; padding-top: calc(1.25rem + var(--appbar-h)); }
	.btn.besar { font-size:1rem; }
}
@media (min-width: 768px) {
	.konten { padding: 1.5rem 1.75rem 3rem; padding-top: calc(1.5rem + var(--appbar-h)); }
	/* Biarkan section data-bangunan satu kolom; atur dua dropdown di dalam .grid-form saja */
	.data-bangunan { display:block; }
	/* Dua kolom seimbang untuk dua dropdown kiri/kanan */
	.grid-form { column-gap: var(--sp-5); }
	.blok-tombol-hitung { flex-direction:row; align-items:center; }
	.keterangan-tombol { max-width:260px; }
}
.data-bangunan, .implementasi, .parameter, #judul-data-bangunan, #judul-ringkasan, .pc-parameter { scroll-margin-top: calc(var(--appbar-h) + 20px); }
.deskripsi { font-size:.9rem; margin:0 0 0; color:#45515f; }

form { width:100%; }

.daftar-parameter { display:flex; flex-wrap:wrap; gap: .9rem; margin-bottom: 1.5rem; }

.kartu-parameter {
	background: var(--warna-kartu);
	border:1px solid var(--warna-border);
	border-radius: var(--radius);
	padding: .9rem .95rem 1rem;
	position:relative;
	box-shadow: var(--bayangan-kartu);
	display:flex; flex-direction:column;
	gap:.65rem;
	transition: var(--transisi);
}
.kartu-parameter:focus-within { border-color: var(--warna-aksen); box-shadow: 0 0 0 2px rgba(25,118,210,.2); }

.kartu-parameter header { display:flex; justify-content:space-between; align-items:center; gap:.75rem; }
.kartu-parameter h2 { font-size: .95rem; margin:0; font-weight:600; line-height:1.2; }
.kartu-parameter small { font-size:.65rem; font-weight:500; letter-spacing:.5px; color:#516171; text-transform:uppercase; }

.input-grup { display:flex; align-items:center; gap:.75rem; }
.input-grup label { font-size:.75rem; font-weight:500; color:#37414c; flex:1; }

.input-grup input[type=number] {
	width: clamp(5.5rem, 22vw, 7rem);
	font-size: 1rem;
	padding: .55rem .65rem;
	border-radius: 10px;
	border:1px solid #c3cdd6;
	background:#fdfefe;
	font-weight:500;
	text-align:center;
	transition: var(--transisi);
	appearance: textfield;
	-moz-appearance: textfield;
}
.input-grup input[type=number]:focus { outline:none; border-color: var(--warna-aksen); box-shadow: 0 0 0 2px rgba(25,118,210,.25); }
.input-grup input[type=number]::-webkit-outer-spin-button, .input-grup input[type=number]::-webkit-inner-spin-button { -webkit-appearance: none; margin:0; }

.rentang { font-size:.7rem; color:#5d6a78; font-weight:500; }

.nilai-maks { background:#eef5ff; color:#0d47a1; font-size:.6rem; padding:.2rem .45rem; border-radius:20px; font-weight:600; letter-spacing:.5px; }

.ringkasan { margin-top: .5rem; }
.ringkasan h2 { font-size:1rem; margin:0 0 .65rem; }

.card-total { background: var(--warna-kartu); padding: .9rem 1rem 1rem; border:1px solid var(--warna-border); border-radius: var(--radius); box-shadow: var(--bayangan-kartu); display:flex; flex-direction:column; gap:.4rem; }
.total-item { display:flex; justify-content:space-between; font-size:.85rem; }
.total-item strong { font-weight:600; }
.total-item.persen strong { font-size:1.05rem; color: var(--warna-primer); }

progress { width:100%; height: 0.875rem; border:none; border-radius: 0.5rem; overflow:hidden; background:#e7edf3; }
progress::-webkit-progress-bar { background:#e7edf3; }
progress::-webkit-progress-value { background: linear-gradient(90deg,#1976d2,#42a5f5); border-radius:8px; }
progress::-moz-progress-bar { background: linear-gradient(90deg,#1976d2,#42a5f5); }

.aksi { display:flex; gap:.75rem; margin:1.25rem 0 .25rem; flex-direction: column; align-items: stretch; }
.aksi .btn { flex: 0 0 auto; width: 100%; }
@media (min-width: 640px) {
	.aksi { flex-direction: row; flex-wrap: wrap; align-items: center; }
	.aksi .btn { flex: 1 1 auto; width: auto; }
}
.btn { flex:1; border:none; padding:.75rem .9rem; font-size:.8rem; font-weight:600; letter-spacing:.5px; text-transform:uppercase; border-radius:12px; cursor:pointer; transition:var(--transisi); display:inline-flex; justify-content:center; align-items:center; gap:.4rem; position:relative; }
.btn.besar { padding:1rem 1.1rem; letter-spacing:.8px; }
.btn { line-height:1.2; }
.btn:active { transform:translateY(2px); }
.btn.sentuh-aktif { filter:brightness(1.08); transform:translateY(1px); }
.btn.ripple { position:relative; overflow:hidden; }
.btn.ripple::after { content:""; position:absolute; inset:0; background:radial-gradient(circle at var(--x,50%) var(--y,50%), rgba(255,255,255,.55), transparent 60%); opacity:0; transition:opacity .6s ease; }
.btn.sentuh-aktif.ripple::after { opacity:1; }
.btn.primer { background: linear-gradient(135deg,#1565c0,#0d47a1); color:#fff; }
.btn.primer:hover { filter:brightness(1.05); }
.btn.sekunder { background:#ffffff; color:#0d47a1; border:1px solid #0d47a1; }
.btn.sekunder:hover { background:#eef5ff; }
.btn.bahaya { background: linear-gradient(135deg,#e53935,#c62828); color:#fff; }
.btn.bahaya:hover { filter:brightness(1.05); }

.panel-bantuan { margin:1rem 0 1rem; background: var(--warna-kartu); border:1px solid var(--warna-border); border-radius: var(--radius); padding:.75rem 1rem 1rem; box-shadow: var(--bayangan-kartu); }
.panel-bantuan { scroll-margin-top: calc(var(--appbar-h) + 16px); }
.panel-bantuan:first-of-type { margin-top: clamp(0px, calc(var(--appbar-h) - 1rem), 1.25rem); }
@media (max-width: 599px) {
	.panel-bantuan:first-of-type { margin-top: 0; }
}
.panel-bantuan summary { cursor:pointer; font-weight:600; font-size:.85rem; list-style:none; }
.panel-bantuan[open] summary { margin-bottom:.5rem; }
.panel-bantuan ol { margin:.25rem 0 0 1rem; padding:0; font-size:.75rem; line-height:1.35; }

.footer { text-align:center; font-size:.65rem; padding: 1.25rem .75rem 2rem; color:#5d6a78; }


/* Tema gelap manual via atribut data-tema="gelap" di <html> atau <body> */
[data-tema='gelap'] { --warna-latar:#0f141a; --warna-kartu:#1b242f; --warna-border:#2a3644; color-scheme:dark; }
[data-tema='gelap'] body { color:#d5dde5; }
[data-tema='gelap'] .deskripsi { color:#a9bac9; }
[data-tema='gelap'] .input-grup input[type=number] { background:#141b22; border-color:#3a4a59; color:#f1f6fa; }
[data-tema='gelap'] .nilai-maks { background:#17324d; color:#9dd0ff; }
[data-tema='gelap'] progress { background:#253444; }
[data-tema='gelap'] .panel-bantuan { background:#1b242f; }
[data-tema='gelap'] .btn.sekunder { background:#223040; color:#90caf9; border-color:#1976d2; }
[data-tema='gelap'] .btn.sekunder:hover { background:#1a2835; }
[data-tema='gelap'] .card-total { background:#1b242f; }
[data-tema='gelap'] .kartu-parameter { background:#1b242f; }
[data-tema='gelap'] .hasil-item { background:#203145; }
[data-tema='gelap'] .hasil-item span { color:#b9c9d7; }
[data-tema='gelap'] .hasil-item strong { color:#e7eef6; }

/* (blok :root kecil duplikat dihapus) */

.app-bar { background:#ffffff; color:#0f172a; box-shadow: 0 1px 0 var(--warna-border); }
.app-bar h1 { font-weight:800; letter-spacing:.2px; }
.app-bar .btn.sekunder { background:#fff; color:#0f172a; border:1px solid var(--warna-border); }
.app-bar .btn.sekunder:hover { background:#f8fafc; }

/* Dark header overrides */
[data-tema='gelap'] .app-bar { background:#0b1220; color:#e5edf7; box-shadow: 0 1px 0 rgba(255,255,255,.08); }
[data-tema='gelap'] .app-bar .btn.sekunder { background:#223040; color:#9ecbff; border-color:#2d3a46; }
[data-tema='gelap'] .app-bar .btn.sekunder:hover { background:#1a2835; }
/* Dark mode: match icon button visuals */
[data-tema='gelap'] .app-bar #btn-menu { background:#223040; color:#9ecbff; border-color:#2d3a46; }
[data-tema='gelap'] .app-bar #btn-ringkas { background:#223040; color:#9ecbff; border-color:#2d3a46; }
[data-tema='gelap'] .app-bar #btn-menu:hover { background:#1a2835; }
[data-tema='gelap'] .app-bar #btn-ringkas:hover { background:#1a2835; }

.param-nav { background:transparent; border:none; }
.param-nav.floating { box-shadow: 0 12px 34px rgba(16,24,40,.18), 0 6px 12px rgba(16,24,40,.10); max-width: min(55rem, 96vw); }


/* (Consolidated below in the Badge kategori elemen section) */

/* Dark mode keeps prior overrides; ensure floating nav contrast */
[data-tema='gelap'] .param-nav.floating { background: rgba(9,28,48,.9); border-color: rgba(255,255,255,.12); }

/* (final override blok tema gelap duplikat dihapus - sudah ada di bagian atas) */

/* Themed navbar variables and application */
/* (chip/nav variables sudah di blok utama & override gelap) */
.param-nav.floating { background: var(--nav-bg) !important; border-color: var(--nav-border) !important; }
.param-nav.floating .chip { background: var(--chip-bg) !important; border-color: var(--chip-border) !important; color: var(--chip-color) !important; }
.param-nav.floating .chip[aria-current="true"], .param-nav.floating .chip.aktif { background: var(--chip-active-bg) !important; color: var(--chip-active-color) !important; border-color: var(--chip-active-bg) !important; box-shadow: 0 4px 10px -3px rgba(30,136,229,.35); }
.param-nav.floating .chip:hover { filter: brightness(1.02); }
[data-tema='gelap'] .param-nav.floating .chip:hover { filter: brightness(1.05); }

/* Animasi ringan untuk masuk */
@keyframes masuk { from { opacity:0; transform:translateY(6px);} to { opacity:1; transform:translateY(0);} }
.kartu-parameter { animation: masuk .4s ease both; }

/* Reduced motion & Lite mode for low-end devices */
@media (prefers-reduced-motion: reduce) {
	* { animation: none !important; transition: none !important; }
	html:focus-within { scroll-behavior: auto; }
}

[data-lite="true"] {
	--bayangan-kartu: none;
}
[data-lite="true"] .kartu-parameter,
[data-lite="true"] .hasil-item,
[data-lite="true"] .param-nav.floating,
[data-lite="true"] .pc-parameter,
[data-lite="true"] .pc-indikator .indikator-item,
[data-lite="true"] .catatan-global {
	box-shadow: none !important;
}
[data-lite="true"] .param-nav.floating { backdrop-filter: none; }
[data-lite="true"] .btn:active { transform: none; }
[data-lite="true"] .btn.ripple::after { display:none; }
[data-lite="true"] .pc-parameter { content-visibility: auto; contain-intrinsic-size: 280px 360px; }
[data-lite="true"] .pc-indikator .indikator-item:hover { border-color: inherit; }

/* Data Bangunan */
.data-bangunan { background: var(--warna-kartu); border:1px solid var(--warna-border); border-radius: var(--radius); padding: 1rem 1rem 1.1rem; box-shadow: var(--bayangan-kartu); margin-bottom:1.1rem; }
.data-bangunan h2 { margin:0 0; font-size: var(--fs-lg); line-height: 1.2; display:flex; align-items:center; }
	.grid-form { display:flex; flex-wrap:wrap; gap:.85rem; }
@media (min-width:560px){
	.grid-form > .grup-form { flex:1 1 min(20rem, 48%); }
}
.grid-form > .grup-form { min-width: 0; }
.grup-form { display:flex; flex-direction:column; gap:.4rem; }
.grup-form label { font-size:.75rem; font-weight:600; letter-spacing:.5px; text-transform:uppercase; color:#37414c; }
.grup-form .judul-grup { font-size:.75rem; font-weight:600; letter-spacing:.5px; text-transform:uppercase; color:#37414c; }
.grup-form select { width:100%; padding:.7rem .75rem; border:1px solid #c3cdd6; border-radius:10px; background:#fdfefe; font-size:.85rem; font-weight:500; appearance:none; background-image:linear-gradient(45deg,transparent 50%,#0d47a1 50%),linear-gradient(135deg,#0d47a1 50%,transparent 50%); background-position:calc(100% - 18px) calc(50% - 5px), calc(100% - 13px) calc(50% - 5px); background-size:6px 6px, 6px 6px; background-repeat:no-repeat; }
.grup-form select:focus { outline:none; border-color: var(--warna-aksen); box-shadow:0 0 0 2px rgba(25,118,210,.25); }

/* Section Parameter Expandable (details + summary) */
.parameter { margin-bottom:1rem; }

@media (min-width: 1024px) {
	/* removed min-height constraints for desktop as well */
}
.parameter h2 { font-size:1rem; margin:0 0 .75rem; }
.kartu-parameter { padding-top:.75rem; }
.kartu-parameter details { border:1px solid var(--warna-border); border-radius:12px; background: #fbfdff; overflow:hidden; }
.kartu-parameter details[open] { background:#f1f7ff; }
.kartu-parameter summary { list-style:none; cursor:pointer; padding:.65rem .85rem; font-weight:600; font-size:.8rem; display:flex; align-items:center; gap:.6rem; position:relative; }
.kartu-parameter summary::-webkit-details-marker { display:none; }
.ikon-expand { width:18px; height:18px; border-radius:50%; background:#1976d2; flex:none; display:inline-flex; align-items:center; justify-content:center; color:#fff; font-size:.65rem; font-weight:700; box-shadow:0 2px 4px -1px rgba(0,0,0,.35); }
details[open] .ikon-expand { background:#0d47a1; }
.isi-parameter { padding:.65rem .85rem .85rem; display:flex; flex-direction:column; gap:.55rem; animation: masuk .3s ease; }
.isi-parameter .input-grup { margin-top:.4rem; }

/* Blok Tombol Hitung */
.blok-tombol-hitung { margin: .75rem 0 1.1rem; display:flex; flex-direction:column; gap:.45rem; align-items:center; }
.keterangan-tombol { font-size:.65rem; color:#566370; margin:0; line-height:1.3; text-align:center; }

/* Hasil & Ringkasan */
.hasil-grid { display:flex; flex-wrap:wrap; gap:.75rem; margin-bottom:.4rem; justify-content:center; }
.hasil-item { background:#ffffff; border:1px solid var(--warna-border); box-shadow: var(--bayangan-kartu); padding:.55rem .65rem .6rem; display:flex; flex-direction:column; gap:.2rem; justify-content:center; align-items:center; text-align:center; flex:1 1 10rem; }
.hasil-item span { font-size:.6rem; font-weight:600; letter-spacing:.6px; text-transform:uppercase; color:#516171; }
.hasil-item strong { font-size:1rem; font-weight:700; color:#1f2a37; }
.hasil-item.besar strong { font-size:1.25rem; }

/* Layout hasil responsif */
/* Mobile-first: dua kolom untuk baris pertama (total + maks), baris kedua persentase, baris ketiga peringkat */
.hasil-total { order: 1; }
.hasil-maks { order: 2; }
.hasil-persentase { order: 3; flex-basis: 100%; }
.hasil-peringkat { order: 4; flex-basis: 100%; }

/* Pastikan tampilan mobile rapih sampai 600px */
@media (max-width: 600px) {
	.hasil-grid { justify-content: space-between; }
	.hasil-total, .hasil-maks { flex: 1 1 calc(50% - .4rem); min-width: 9rem; }
	.hasil-persentase, .hasil-peringkat { flex: 1 1 100%; min-width: 100%; }
}

/* Layar lebar: tiga kolom sejajar (total, maks, persentase), peringkat mengisi penuh di bawahnya */
@media (min-width: 768px) {
	.hasil-grid { justify-content: stretch; }
	.hasil-item { flex: 1 1 0; }
	.hasil-total { order: 1; }
	.hasil-maks { order: 2; }
	.hasil-persentase { order: 3; }
	.hasil-peringkat { order: 4; flex-basis: 100%; }
}

/* Peringkat info under badge */
.peringkat-info { display:flex; flex-direction:column; gap:.2rem; margin-top:.25rem; align-items:center; }
.peringkat-info .peringkat-range { color:#5d6a78; opacity:.9; }
.peringkat-info .peringkat-warning { color:#b45309; background:#fff7ed; border:1px solid #fde1c3; padding:.2rem .4rem; border-radius:8px; }
[data-tema='gelap'] .peringkat-info .peringkat-range { color:#9eb7cc; opacity:.9; }
[data-tema='gelap'] .peringkat-info .peringkat-warning { color:#ffddb0; background:#3a2a12; border-color:#5c4221; }

[data-tema='gelap'] .badge-klasifikasi { background:#2a3644; color:#b9c9d7; }
[data-tema='gelap'] .ringkasan h2 { color:#d5dde5; }
[data-tema='gelap'] .total-item { color:#b9c9d7; }
[data-tema='gelap'] .total-item strong { color:#e7eef6; }
[data-tema='gelap'] .badge-utamanya { background:#255f2c; color:#c8f5cf; }
[data-tema='gelap'] .badge-madya { background:#c25400; color:#ffe0b2; }
[data-tema='gelap'] .badge-pratama { background:#0d47a1; color:#bbdefb; }
[data-tema='gelap'] .badge-belum { background:#455a64; color:#cfd8dc; }

/* =============================
   MODE FORM GRID PARAMETER (Alternatif tampilan tabel)
   ============================= */
.form-parameter-grid { margin-top:.75rem; display:flex; flex-direction:column; gap:.5rem; }
.form-parameter-grid .fp-head { display:flex; align-items:center; gap:.4rem; font-size:.65rem; font-weight:600; text-transform:uppercase; letter-spacing:.5px; color:#44525f; padding:.4rem .55rem; background:#e8f1fb; border:1px solid var(--warna-border); border-radius:10px; }
.form-parameter-grid .fp-badan { display:flex; flex-direction:column; gap:.55rem; }
.form-parameter-grid .baris-param { display:flex; align-items:center; gap:.4rem; background:var(--warna-kartu); border:1px solid var(--warna-border); padding:.55rem .55rem; border-radius:12px; box-shadow: var(--bayangan-kartu); transition:var(--transisi); }
.form-parameter-grid .fp-head .p-kode,
.form-parameter-grid .baris-param .p-kode { flex:0 0 clamp(2.8rem, 9vw, 3.8rem); text-align:center; }
.form-parameter-grid .fp-head .p-nama,
.form-parameter-grid .baris-param .p-nama { flex:1 1 auto; min-width:0; }
.form-parameter-grid .fp-head .p-maks,
.form-parameter-grid .baris-param .p-maks { flex:0 0 clamp(3.2rem, 10vw, 4.5rem); text-align:center; }
.form-parameter-grid .fp-head .p-input,
.form-parameter-grid .baris-param .p-input { flex:0 0 clamp(6rem, 22vw, 9.5rem); }
.form-parameter-grid .baris-param:focus-within { border-color: var(--warna-aksen); box-shadow:0 0 0 2px rgba(25,118,210,.25); }
.form-parameter-grid .baris-param .p-kode { font-weight:700; font-size:.8rem; color: var(--warna-primer); text-align:center; }
.form-parameter-grid .baris-param .p-nama { font-size:.75rem; font-weight:600; line-height:1.25; }
.form-parameter-grid .baris-param .p-maks { font-size:.65rem; background:#eef5ff; color:#0d47a1; padding:.25rem .4rem; border-radius:14px; text-align:center; font-weight:600; }
.form-parameter-grid .baris-param .p-input { display:flex; }
.form-parameter-grid .baris-param .p-input input { width:100%; padding:.55rem .6rem; font-size:.85rem; border:1px solid #c3cdd6; border-radius:10px; background:#fbfdff; font-weight:600; text-align:center; }
.form-parameter-grid .baris-param .p-input input:focus { outline:none; border-color: var(--warna-aksen); box-shadow:0 0 0 2px rgba(25,118,210,.25); }

@media (max-width: 620px) {
	.form-parameter-grid .fp-head .p-kode,
	.form-parameter-grid .baris-param .p-kode { flex-basis: clamp(2.2rem, 12vw, 3rem); }
	.form-parameter-grid .fp-head .p-maks,
	.form-parameter-grid .baris-param .p-maks { flex-basis: clamp(2.8rem, 14vw, 3.75rem); }
	.form-parameter-grid .fp-head .p-input,
	.form-parameter-grid .baris-param .p-input { flex-basis: clamp(5.5rem, 32vw, 6.75rem); }
	.form-parameter-grid .baris-param { padding:.55rem .5rem; }
	.form-parameter-grid .baris-param .p-input input { font-size:.78rem; }
}

[data-tema='gelap'] .form-parameter-grid .fp-head { background:#1e2b38; color:#9eb7cc; }
[data-tema='gelap'] .form-parameter-grid .baris-param { background:#1b242f; border-color:#2a3644; }
[data-tema='gelap'] .form-parameter-grid .baris-param .p-maks { background:#17324d; color:#9dd0ff; }
[data-tema='gelap'] .form-parameter-grid .baris-param .p-input input { background:#141b22; border-color:#384858; color:#f1f6fa; }
[data-tema='gelap'] .grup-form select { background:#141b22; border-color:#3a4a59; color:#e7eef6; }
/* Improve dropdown popup readability (browser-dependent) */
@media (prefers-color-scheme: dark) {
	[data-tema='gelap'] select option, [data-tema='gelap'] select optgroup { background-color:#141b22; color:#e7eef6; }
}
[data-tema='gelap'] .form-parameter-grid .baris-param:focus-within { border-color:#1976d2; box-shadow:0 0 0 2px rgba(25,118,210,.35); }

/* Scrollable section untuk konten parameter panjang di layar kecil */
@media (max-height: 760px) {
	.parameter .daftar-parameter { max-height: 55vh; overflow-y:auto; -webkit-overflow-scrolling:touch; padding-right:4px; }
}
@media (max-height: 640px) {
	.parameter .daftar-parameter { max-height: 50vh; }
}

/* Custom scrollbar (WebKit) */
.parameter .daftar-parameter::-webkit-scrollbar { width:8px; }
.parameter .daftar-parameter::-webkit-scrollbar-track { background:transparent; }
.parameter .daftar-parameter::-webkit-scrollbar-thumb { background:#c5d3e1; border-radius:20px; }
.parameter .daftar-parameter::-webkit-scrollbar-thumb:hover { background:#b1c3d4; }

/* Hindari zoom iOS pada fokus input (font-size >=16px) */
input[type=number], select { font-size:16px; }

/* Optimalisasi tap target tambahan */
summary, label, select, input, button { touch-action: manipulation; }

/* Media queries ukuran layar mobile kecil */
@media (max-width: 380px) {
	.app-bar h1 { font-size:.95rem; }
	.deskripsi { font-size:.78rem; }
	.btn { font-size:.7rem; }
	.btn.besar { font-size:.85rem; }
	.hasil-item strong { font-size:.9rem; }
	.hasil-item.besar strong { font-size:1.05rem; }
	.grup-form select { font-size:.8rem; }
	.input-grup input[type=number] { width:100px; }
}



/* Safe area support (iOS notch) */

@supports (padding: max(0px)) {
	/* Tetap hormati safe-area namun tetap kompak */
	.app-bar { padding-left: max(1rem, env(safe-area-inset-left)); padding-right:max(1rem, env(safe-area-inset-right)); padding-top: calc(.4rem + env(safe-area-inset-top)); }
	.footer { padding-bottom: calc(2rem + env(safe-area-inset-bottom)); }
}


/* =============================
	MODAL INFO (Tooltip -> Modal)
	============================= */
.modal-info { position: fixed; inset: 0; display: none; align-items: center; justify-content: center; z-index: 1000; }
.modal-info[aria-hidden="false"] { display: flex; }
.modal-info .modal-backdrop { position: absolute; inset: 0; background: rgba(15, 23, 42, .55); backdrop-filter: blur(2px); }
.modal-info .modal-dialog { position: relative; background: #ffffff; color: #0f172a; width: min(720px, 92vw); max-height: 80vh; border-radius: 14px; border: 1px solid var(--warna-border); box-shadow: 0 18px 48px rgba(16,24,40,.25); padding: 1rem 1rem 1.1rem; overflow: hidden; display: flex; flex-direction: column; gap: .6rem; animation: masuk .25s ease; }
.modal-info .modal-title { margin: 0; font-size: 1rem; font-weight: 800; letter-spacing: .2px; padding-right: 2.75rem; }
.modal-info .modal-content { overflow: auto; -webkit-overflow-scrolling: touch; padding-right: .25rem; font-size: .9rem; line-height: 1.4; }
.modal-info .modal-content h4 { font-size: .92rem; margin: .4rem 0 .25rem; }
.modal-info .modal-content p { margin: .25rem 0; }
.modal-info .modal-content .blok { background: #f8fbff; border: 1px solid var(--warna-border); border-radius: 10px; padding: .6rem .75rem; margin: .25rem 0; }
.modal-info .modal-close { position: absolute; top: .5rem; right: .5rem; background: #fff; color: #0f172a; border: 1px solid var(--warna-border); border-radius: 10px; width: 2rem; height: 2rem; font-size: 1.1rem; font-weight: 900; cursor: pointer; display: inline-flex; align-items: center; justify-content: center; }
.modal-info .modal-close:hover { background: #f1f5f9; }

[data-tema='gelap'] .modal-info .modal-dialog { background: #0b1220; color: #e5edf7; border-color: rgba(255,255,255,.12); }
[data-tema='gelap'] .modal-info .modal-backdrop { background: rgba(0, 0, 0, .6); }
[data-tema='gelap'] .modal-info .modal-close { background: #223040; color: #9ecbff; border-color: #2d3a46; }
[data-tema='gelap'] .modal-info .modal-content .blok { background: #172131; border-color: #2d3a46; }

/* =============================
	 TIPOGRAFI: Skala dan Override Mobile
	 ============================= */
/* (tipografi duplikat dihapus; sudah di blok utama) */

/* Sedikit perbesar seluruh basis font pada layar kecil untuk keterbacaan */
@media (max-width:380px){ :root { font-size:17px; } }
@media (min-width:768px){
  :root {
    --fs-2xs:.70rem; --fs-xs:.78rem; --fs-sm:.86rem; --fs-md:.95rem; --fs-lg:1.12rem; --fs-xl:1.22rem;
  }
}

/* Headings & umum */
.app-bar h1 { font-size: var(--fs-md); }
.deskripsi { font-size: var(--fs-sm); line-height: var(--lh-normal); }

/* Tombol */
.btn { font-size: var(--fs-sm); }
.btn.besar { font-size: var(--fs-md); }

/* Nav chip */
.param-nav .chip { font-size: var(--fs-sm); }

/* Header parameter (summary) */
.pc-parameter summary h3 { font-size: var(--fs-md); }
.pc-parameter summary .maks { font-size: var(--fs-xs); }

/* Kriteria & indikator */
.pc-kriteria h4 { font-size: var(--fs-sm); }
.pc-kriteria .penjelasan { font-size: var(--fs-xs); line-height: var(--lh-normal); }
.pc-indikator .indikator-item .judul { font-size: var(--fs-sm); }
.pc-indikator label { font-size: var(--fs-sm); }
.pc-indikator .indikator-item .meta { font-size: var(--fs-xs); }
.pc-indikator .indikator-item .klaim .klaim-label { font-size: var(--fs-xs); }
.pc-indikator .indikator-item .klaim .multiplier { font-size: var(--fs-xs); }
.pc-indikator .indikator-item .klaim .claimed,
.pc-indikator .indikator-item .klaim .claimed-mult { font-size: var(--fs-xs); }
.pc-kriteria .subtotal { font-size: var(--fs-xs); }
.pc-parameter .subtotal-parameter { font-size: var(--fs-sm); }

/* Hasil & ringkasan */
.ringkasan h2 { font-size: var(--fs-lg); }
.total-item { font-size: var(--fs-sm); }
.total-item.persen strong { font-size: var(--fs-lg); }
.hasil-item span { font-size: var(--fs-xs); }
.hasil-item strong { font-size: var(--fs-md); }

/* Data bangunan: radio pill & tooltip */
.radio-pill { font-size: var(--fs-sm); }
.radio-pill .info-btn { font-size: var(--fs-xs); }
.tooltip-content { font-size: var(--fs-xs); }


/* =============================
   MODE CHECKLIST (Kriteria & Indikator)
   ============================= */
.parameter-checklist { display:flex; flex-direction:column; gap:1rem; margin-top:.75rem; }
.param-nav { flex:1 1 auto; display:flex; gap:.5rem; padding:.3rem .4rem; overflow:auto hidden; -webkit-overflow-scrolling: touch; scrollbar-width: thin; background: rgba(255,255,255,.08); border-radius: 999px; border:1px solid rgba(255,255,255,.25); justify-content:center; }
.param-nav::-webkit-scrollbar { height:8px; }
.param-nav::-webkit-scrollbar-thumb { background:#c5d3e1; border-radius:20px; }
.param-nav .chip { flex:0 0 auto; padding:.4rem .6rem; font-size:.75rem; font-weight:800; letter-spacing:.3px; border:1px solid #cbd7e4; background:#f5f9ff; color:#0d47a1; border-radius:999px; cursor:pointer; user-select:none; transition: var(--transisi); display:inline-flex; align-items:center; gap:.45rem; }
.param-nav .chip i { font-size:.9em; line-height:1; }
.param-nav .chip .nama { display:none; font-weight:700; opacity:.95; }
.param-nav .chip.tampil-nama .nama { display:inline; }
.param-nav .chip[aria-current="true"], .param-nav .chip.aktif { background:#1976d2; color:#fff; border-color:#1976d2; box-shadow: 0 4px 10px -3px rgba(25,118,210,.45); }
.param-nav .chip:active { transform: translateY(1px); }
[data-tema='gelap'] .param-nav { background: rgba(255,255,255,.08); border-color: rgba(255,255,255,.18); }
[data-tema='gelap'] .param-nav .chip { background:#223040; border-color:#2d3a46; color:#9ecbff; }
[data-tema='gelap'] .param-nav .chip[aria-current="true"] { background:#0d47a1; border-color:#0d47a1; color:#e3f2fd; }
/* Floating bottom navbar */
.param-nav.floating { position: fixed; left: 50%; transform: translateX(-50%); bottom: max(.75rem, env(safe-area-inset-bottom)); z-index: 60; max-width: min(55rem, 96vw); width: auto; padding: .35rem .5rem; background: rgba(13,71,161,.9); border-color: rgba(255,255,255,.35); box-shadow: 0 8px 24px rgba(0,0,0,.22), 0 2px 8px rgba(0,0,0,.15); backdrop-filter: blur(6px); }
.param-nav.floating .chip { border-color: rgba(255,255,255,.55); background: rgba(255,255,255,.95); }
[data-tema='gelap'] .param-nav.floating { background: rgba(9,28,48,.85); border-color: rgba(255,255,255,.2); }
[data-tema='gelap'] .param-nav.floating .chip { background:#223040; border-color:#2d3a46; color:#9ecbff; }
.param-nav.floating .chip[aria-current="true"], .param-nav.floating .chip.aktif { background:#1976d2; color:#fff; border-color:#1976d2; box-shadow: 0 4px 10px -3px rgba(25,118,210,.45); }
[data-tema='gelap'] .param-nav.floating .chip[aria-current="true"], [data-tema='gelap'] .param-nav.floating .chip.aktif { background:#0d47a1; border-color:#0d47a1; color:#e3f2fd; }

.param-nav.side { position: fixed; top: calc(var(--appbar-h) + .5rem); left: max(.5rem, env(safe-area-inset-left)); right: auto; bottom: auto; z-index: 70; width: 56px; max-height: calc(100vh - var(--appbar-h) - 1rem); padding: .5rem .4rem; display: flex; flex-direction: column; gap: .4rem; overflow-y: auto; overflow-x: hidden; -webkit-overflow-scrolling: touch; background: var(--nav-bg); border: 1px solid var(--nav-border); border-radius: 14px; box-shadow: 0 8px 18px rgba(16,24,40,.12); transform: translateX(-120%); opacity: 0; transition: transform var(--transisi), opacity var(--transisi); }
.param-nav.side#param-nav { top: calc(var(--appbar-h) + .5rem + 4.25rem); max-height: calc(100vh - var(--appbar-h) - 1rem - 4.25rem); }
.param-nav.side#param-nav-ringkas { top: calc(var(--appbar-h) + .5rem); }
.nav-open .param-nav.side { transform: translateX(0); opacity: 1; }
@supports (padding: max(0px)) {
	.param-nav.side { max-height: calc(100vh - var(--appbar-h) - 1rem - env(safe-area-inset-bottom)); }
}
.param-nav.side .chip { width: 40px; height: 40px; padding: 0; border-radius: 12px; display: inline-flex; align-items: center; justify-content: center; font-weight: 900; letter-spacing: .4px; }
.param-nav.side .chip .nama { display: none !important; }
.param-nav.side .chip .kode { display: inline; }
/* Themed chips for side nav */
.param-nav.side .chip { background: var(--chip-bg); border-color: var(--chip-border); color: var(--chip-color); }
.param-nav.side .chip[aria-current="true"], .param-nav.side .chip.aktif { background: var(--chip-active-bg); color: var(--chip-active-color); border-color: var(--chip-active-bg); box-shadow: 0 4px 10px -3px rgba(30,136,229,.35); }
/* Pressed state for toggle chips (e.g., Mode Ringkas) */
.param-nav.side .chip[aria-pressed="true"] { background: var(--chip-active-bg); color: var(--chip-active-color); border-color: var(--chip-active-bg); box-shadow: 0 4px 10px -3px rgba(30,136,229,.35); }
/* Pressed state for header ringkas button */
#btn-ringkas[aria-pressed="true"] { background: #e8eefc; border-color: #bfd0f7; color:#0d47a1; }
[data-tema='gelap'] #btn-ringkas[aria-pressed="true"] { background:#15344b; border-color:#1976d2; color:#9ecbff; }
@supports (padding: max(0px)) {
	.param-nav.side { padding-left: max(.35rem, env(safe-area-inset-left)); }
}

/* Content stays full-width; nav overlays. Optional body shift can be re-added if needed. */

/* keep centered even on small screens; width already capped by 96vw */
.pc-parameter { border:1px solid var(--warna-border); background:var(--warna-kartu); border-radius:16px; padding:.25rem .95rem .25rem; box-shadow: var(--bayangan-kartu); display:flex; flex-direction:column; }
.pc-parameter:has(> details:not([open])) { justify-content: center; padding-bottom: 0; gap: 0; }
.pc-parameter:has(> details[open]) { justify-content: flex-start; }
.pc-parameter { content-visibility: auto; }
/* Reserve space per kriteria and indikator item */
.pc-kriteria { contain-intrinsic-size: 220px; content-visibility: auto; }
.pc-indikator .indikator-item { contain-intrinsic-size: 96px; content-visibility: auto; }
.pc-parameter summary.pc-parameter-summary { cursor:pointer; list-style:none; display:flex; align-items:center; gap:.75rem; padding:.6rem .2rem; margin: 0; }
.pc-parameter details:not([open]) { display:flex; align-items:center; }
/* Remove any bottom space under summary when closed */
.pc-parameter details:not([open]) > summary.pc-parameter-summary { padding-bottom: 0; }
/* Ensure details itself adds no spacing inside pc-parameter */
.pc-parameter > details { margin: 0; padding: 0; }
.pc-parameter summary::-webkit-details-marker { display:none; }
.pc-parameter summary .kode { background:var(--warna-primer); color:#fff; font-weight:700; font-size:.7rem; letter-spacing:.5px; padding:.35rem .6rem; border-radius:10px; box-shadow:0 2px 4px -1px rgba(0,0,0,.25); flex:0 0 auto; }
.pc-parameter summary h3 { margin:0; font-size:.9rem; font-weight:600; line-height:1.25; white-space:normal; overflow-wrap:anywhere; flex:1 1 auto; }
.pc-parameter summary .maks { font-size:.6rem; font-weight:600; letter-spacing:.5px; background:#eff6ff; color:#1e3a8a; padding:.3rem .55rem; border-radius:12px; margin-left:auto; }
.pc-kriteria { border:1px solid var(--warna-border); border-radius:14px; background:#f8fbfe; padding:.75rem .75rem .85rem; display:flex; flex-direction:column; gap:.65rem; position:relative; }
.pc-kriteria h4 { margin:0; font-size:.75rem; font-weight:600; line-height:1.35; display:flex; align-items:flex-start; gap:.5rem; flex-wrap:wrap; }
.pc-kriteria h4 .kjudul { display:inline-flex; align-items:center; gap:.35rem; flex:0 1 auto; }
.pc-kriteria h4 .tooltip { display:inline-flex; align-items:center; }
.pc-kriteria h4 .info-btn { width:16px; height:16px; border-radius:50%; background:#e3f2fd; color:#0d47a1; display:inline-flex; align-items:center; justify-content:center; font-size:.65rem; font-weight:900; cursor:pointer; border:1px solid #b3c6d8; }
.pc-kriteria h4 .info-btn:hover { background:#d6ecff; }
[data-tema='gelap'] .pc-kriteria h4 .info-btn { background:#15344b; border-color:#2d3a46; color:#9ecbff; }
/* Info button inside indicator titles */
.indikator-item .judul .info-btn { width:16px; height:16px; border-radius:50%; background:#e3f2fd; color:#0d47a1; display:inline-flex; align-items:center; justify-content:center; font-size:.65rem; font-weight:900; cursor:pointer; border:1px solid #b3c6d8; }
.indikator-item .judul .info-btn:hover { background:#d6ecff; }
[data-tema='gelap'] .indikator-item .judul .info-btn { background:#15344b; border-color:#2d3a46; color:#9ecbff; }
/* Reduce the space between judul and info icon */
.indikator-item .judul .tooltip { display:inline-flex; align-items:center; margin-left:.15rem; }
.indikator-item .judul .tooltip .info-btn { margin:0; }
.pc-kriteria h4 .f-elemen-badge { margin-left:auto; }
.pc-kriteria .penjelasan { font-size:.6rem; color:#4a5662; line-height:1.3; margin:0; }
.pc-indikator { display:flex; flex-direction:column; gap:.45rem; }

/* Wide screens: place h4 and indikator side-by-side */
@media (min-width: 768px) {
	.pc-kriteria { flex-direction: row; align-items: flex-start; }
	.pc-kriteria h4 { flex: 0 0 clamp(16rem, 38%, 28rem); max-width: clamp(16rem, 38%, 28rem); margin: 0; }
	.pc-kriteria .pc-indikator { flex: 1 1 auto; min-width: 0; }
	/* Pada layout berdampingan, ratakan kiri badge F (W/D/S) di kolom kiri */
	.pc-parameter[data-param="F"] .pc-kriteria h4 .f-elemen-badge { margin-left: 0; align-self: flex-start; }
}
.pc-indikator .indikator-item { display:flex; flex-wrap:wrap; align-items:flex-start; gap:.4rem .5rem; padding:.55rem .6rem .6rem; border:1px solid #d6e0ea; background:#ffffff; border-radius:10px; position:relative; }
.pc-indikator .indikator-item:hover { border-color:#b3c6d8; }
.pc-indikator .indikator-item .judul { font-size:.65rem; font-weight:600; line-height:1.3; order:1; flex:1 1 auto; }
.pc-indikator .indikator-item .judul,
.pc-indikator .opsi-radio label span,
.pc-parameter summary h3 { overflow-wrap:anywhere; word-break:break-word; }
.pc-indikator .indikator-item .meta { display:flex; flex-wrap:wrap; gap:.4rem .75rem; align-items:center; font-size:.55rem; font-weight:500; letter-spacing:.3px; color:#4b5a67; }
.pc-indikator .opsi-radio { display:flex; flex-direction:column; gap:.3rem; margin-top:.15rem; order:3; flex: 1 1 100%; min-width:0; }
.pc-indikator label { display:flex; align-items:flex-start; gap:.45rem; font-size:.6rem; line-height:1.25; font-weight:500; cursor:pointer; padding:.35rem .4rem; border:1px solid transparent; border-radius:8px; min-width:0; max-width:100%; }
.pc-indikator label:hover { background:#f1f7ff; }
.pc-indikator input[type=radio], .pc-indikator input[type=checkbox] { margin-top:.05rem; }
.pc-kriteria .subtotal { font-size:.6rem; font-weight:600; letter-spacing:.4px; background:#e3f2fd; color:#0d47a1; padding:.25rem .5rem; border-radius:10px; justify-self:start; }
.pc-parameter .subtotal-parameter { font-size:.65rem; font-weight:700; color:#0d47a1; background:#dbeeff; padding:.35rem .65rem; border-radius:12px; align-self:start; }

.pc-indikator .indikator-item .klaim { margin-left:auto; display:flex; flex-direction:column; align-items:flex-end; gap:.25rem; order:2; }
.pc-indikator .indikator-item .klaim .klaim-label { font-size:.55rem; font-weight:700; letter-spacing:.3px; color:#44525f; opacity:.9; }
.pc-indikator .indikator-item .klaim .klaim-values { display:flex; gap:.4rem; align-items:stretch; }
@media (max-width: 420px) {
	.pc-indikator .indikator-item .klaim .klaim-values { flex-direction: column; gap:.25rem; align-items: flex-end; }
}
.pc-indikator .indikator-item .klaim .multiplier { background:#fff3e0; color:#ef6c00; padding:.2rem .4rem; border-radius:10px; font-weight:800; font-size:.6rem; min-width: auto; }
[data-tema='gelap'] .pc-indikator .indikator-item .klaim .multiplier { background:#3a2a12; color:#ffb74d; }
.pc-indikator .indikator-item > label { order:1; flex:1 1 auto; }

/* Left/Right columns inside indikator-item */
.indikator-item .ind-left { order:1; flex:1 1 0; min-width:0; max-width:100%; display:flex; flex-direction:column; gap:.2rem; overflow-wrap:anywhere; }
.indikator-item .ind-right { order:2; flex:0 0 auto; width:max-content; max-width:100%; min-width:auto; display:flex; align-items:flex-start; justify-content:flex-end; margin-left:auto; align-self:flex-start; }


/* Penanda indikator wajib */
.judul.is-required { font-weight:700; }
.judul .asterisk { color:#c62828; font-weight:900; margin-left:.1rem; }
[data-tema='gelap'] .judul .asterisk { color:#ef9a9a; }

/* Tampilan angka klaim */
.pc-indikator .indikator-item .klaim .claimed,
.pc-indikator .indikator-item .klaim .claimed-mult {
	display:flex;
	align-items:center;
	justify-content:flex-end;
	background:#eef5ff;
	color:#0d47a1;
	padding:.45rem .6rem;
	border-radius:12px;
	font-weight:800;
	font-size: var(--fs-xl);
	min-width: 3.4rem;
	line-height:1;
	text-align:right;
}
[data-tema='gelap'] .pc-indikator .indikator-item .klaim .claimed,
[data-tema='gelap'] .pc-indikator .indikator-item .klaim .claimed-mult {
	background:#15344b;
	color:#8bc4ff;
}
.pc-indikator .indikator-item .klaim .multiplier { font-size: var(--fs-xs); }

@media (min-width: 768px) {
	.pc-indikator .indikator-item .klaim .claimed,
	.pc-indikator .indikator-item .klaim .claimed-mult { font-size: var(--fs-lg); }
}

/* Pastikan ind-left dan ind-right selalu sebidang pada semua lebar layar */
[data-tema='gelap'] .pc-indikator .indikator-item .klaim .klaim-label { color:#9eb7cc; }

[data-tema='gelap'] .pc-parameter { background:#1b242f; border-color:#2a3644; }
[data-tema='gelap'] .pc-parameter header .maks,
[data-tema='gelap'] .pc-parameter summary .maks { background:#17324d; color:#9dd0ff; }
[data-tema='gelap'] .pc-kriteria { background:#19232d; border-color:#2a3644; }
[data-tema='gelap'] .pc-indikator .indikator-item { background:#141b22; border-color:#2d3a46; }
[data-tema='gelap'] .pc-indikator .indikator-item:hover { border-color:#395064; }
[data-tema='gelap'] .pc-indikator label:hover { background:#14212c; }
[data-tema='gelap'] .pc-kriteria .subtotal { background:#15344b; color:#8bc4ff; }
[data-tema='gelap'] .pc-parameter .subtotal-parameter { background:#15344b; color:#8bc4ff; }

/* Implementasi Matrix */
/* Implementasi Global Catatan */
.catatan-global { margin-top:1rem; background: var(--warna-kartu); border:1px solid var(--warna-border); border-radius: var(--radius); padding: .9rem 1rem 1rem; box-shadow: var(--bayangan-kartu); display:flex; flex-direction:column; gap:.7rem; }
/* Pastikan panel catatan melebar hampir selebar container */
.catatan-global { max-width: 100%; }
.catatan-global h3 { margin:0; font-size:.9rem; }
.ket-catatan { margin:0; font-size:.6rem; line-height:1.3; color:#516171; }
.daftar-catatan-global { display:flex; flex-wrap:wrap; gap:.5rem .7rem; }
.daftar-catatan-global label { background:#f4f8fc; border:1px solid #d6e0ea; padding:.4rem .55rem; border-radius:10px; font-size:.6rem; font-weight:500; display:inline-flex; gap:.4rem; align-items:flex-start; cursor:pointer; }
.daftar-catatan-global label:hover { background:#e9f3ff; }
.daftar-catatan-global input { margin:0; }
/* Format nomor & teks catatan agar mudah dibaca */
.daftar-catatan-global label .no { font-weight:800; color:#0d47a1; }
.daftar-catatan-global label .teks { white-space:normal; }
[data-tema='gelap'] .catatan-global { background:#1b242f; border-color:#2a3644; }
[data-tema='gelap'] .daftar-catatan-global label { background:#14212c; border-color:#2d3a46; }
[data-tema='gelap'] .daftar-catatan-global label:hover { background:#1d3040; }

/* Badge kategori elemen (W/D/S) untuk Parameter F */
.f-elemen-badges { display:flex; flex-wrap:wrap; gap:.4rem .5rem; margin-top:.4rem; }
.f-elemen-badge { font-size:.55rem; font-weight:600; letter-spacing:.4px; padding:.25rem .45rem; border-radius:14px; display:inline-flex; align-items:center; gap:.25rem; line-height:1; box-shadow:0 1px 2px rgba(0,0,0,.15); }
.f-elemen-badge span { font-weight:700; }
.f-elemen-w { background:#e8f5e9; color:#1b5e20; }
.f-elemen-d { background:#fff3e0; color:#b45309; }
.f-elemen-s { background:#eceff1; color:#455a64; }
[data-tema='gelap'] .f-elemen-w { background:#255f2c; color:#c8f5cf; }
[data-tema='gelap'] .f-elemen-d { background:#c25400; color:#ffe0b2; }
[data-tema='gelap'] .f-elemen-s { background:#455a64; color:#cfd8dc; }

/* Container ringkas dalam kartu Parameter F */
.pc-parameter[data-param="F"] .f-elemen-wrapper { border:1px dashed var(--warna-border); border-radius:12px; padding:.6rem .65rem .7rem; background:#f8fbfe; margin-top:.25rem; }
[data-tema='gelap'] .pc-parameter[data-param="F"] .f-elemen-wrapper { background:#19232d; border-color:#2a3644; }
.f-elemen-wrapper h4 { margin:.1rem 0 .55rem; font-size:.65rem; font-weight:700; letter-spacing:.5px; text-transform:uppercase; color:#0d47a1; }
[data-tema='gelap'] .f-elemen-wrapper h4 { color:#8bc4ff; }
.f-elemen-ket { font-size:.55rem; margin:0 0 .5rem; line-height:1.25; color:#4b5a67; }
[data-tema='gelap'] .f-elemen-ket { color:#9eb7cc; }


/* Sentuhan nyaman */
@media (pointer:coarse) {
	.input-grup input[type=number] { padding:.7rem .75rem; font-size:1.05rem; }
	.btn { padding:.9rem .95rem; }
}

/* Radios for Data Bangunan */
.radio-group { display:flex; flex-wrap:wrap; gap:.5rem .6rem; justify-content:center; }
.data-bangunan .radio-group { justify-content:flex-start; }
.radio-pill { display:inline-flex; align-items:center; gap:.45rem; padding:.45rem .6rem; border:1px solid #c3cdd6; background:#fdfefe; border-radius:999px; font-size:.75rem; font-weight:600; color:#24313d; cursor:pointer; line-height:1.25; }
/* Radio custom: pastikan selalu lingkaran dan sejajar secara optik dengan teks (termasuk multi-line) */
.radio-pill input { appearance:none; -webkit-appearance:none; width:16px; height:16px; aspect-ratio:1/1; border-radius:50%; border:2px solid #1976d2; margin:0; display:inline-flex; align-items:center; justify-content:center; position:relative; flex:0 0 16px; background:#fff; }
.radio-pill input:focus-visible { outline:2px solid #0d47a1; outline-offset:2px; }
.radio-pill input:checked { background:#1976d2; box-shadow:inset 0 0 0 3px #fff; }
.radio-pill .opsi-teks { display:inline-flex; align-items:center; gap:.35rem; }
.radio-pill .info-btn { width:16px; height:16px; border-radius:50%; background:#e3f2fd; color:#0d47a1; display:inline-flex; align-items:center; justify-content:center; font-size:.65rem; font-weight:900; cursor:pointer; border:1px solid #b3c6d8; }
.radio-pill .info-btn:hover { background:#d6ecff; }

[data-tema='gelap'] .radio-pill { background:#141b22; border-color:#3a4a59; color:#e7eef6; }
[data-tema='gelap'] .radio-pill input { border-color:#64b5f6; }
[data-tema='gelap'] .radio-pill input:checked { background:#0d47a1; box-shadow:inset 0 0 0 3px #141b22; }
[data-tema='gelap'] .radio-pill .info-btn { background:#15344b; border-color:#2d3a46; color:#9ecbff; }

/* Ensure labels stay visible in dark mode */
[data-tema='gelap'] .grup-form label { color:#cfe1f1; }
[data-tema='gelap'] .grup-form .judul-grup { color:#cfe1f1; }

/* Simple tooltip */
.tooltip { position:relative; }
.tooltip:hover .tooltip-content, .tooltip:focus-within .tooltip-content { opacity:1; pointer-events:auto; transform:translateY(-2px); }
.tooltip-content { position:absolute; left:0; top:calc(100% + 6px); min-width:220px; max-width: min(70vw, 360px); background:#0d47a1; color:#fff; border-radius:10px; padding:.55rem .65rem; font-size:.7rem; line-height:1.3; box-shadow:0 8px 24px rgba(0,0,0,.2); opacity:0; pointer-events:none; transition:var(--transisi); z-index:30; }
.tooltip-content .judul { font-weight:800; margin:0 0 .25rem; }
.tooltip-content .isi { margin:0; opacity:.95; }
[data-tema='gelap'] .tooltip-content { background:#0b2f68; }

/* Lite mode: kurangi biaya layout/paint saat komponen di luar viewport */
[data-lite='true'] .pc-parameter,
[data-lite='true'] .pc-indikator .indikator-item { content-visibility: auto; contain-intrinsic-size: 600px 200px; }
[data-lite='true'] .param-nav { content-visibility: auto; contain-intrinsic-size: 80px 320px; }

/* Rekap cepat sticky di bawah layar */
.rekap-sticky { position: fixed; left: 50%; transform: translateX(-50%); bottom: max(.5rem, env(safe-area-inset-bottom)); z-index: 55; width: calc(100% - 2rem); max-width: min(55rem, 92vw); background: var(--nav-bg); color: var(--chip-color); border: 1px solid var(--nav-border); border-radius: 14px; box-shadow: 0 10px 28px rgba(16,24,40,.18), 0 6px 12px rgba(16,24,40,.10); backdrop-filter: blur(6px); padding: .6rem .8rem; }
.rekap-sticky .rekap-row { display: flex; align-items: center; justify-content: space-between; gap: .75rem; }
.rekap-sticky .rekap-left { display:flex; align-items: baseline; gap:.5rem; font-weight: 700; color: var(--chip-color); }
.rekap-sticky .rekap-label { font-size: .8rem; opacity: .85; font-weight: 800; letter-spacing: .3px; }
.rekap-sticky .rekap-nilai strong { font-size: 1rem; color: var(--chip-active-color); }
.rekap-sticky .rekap-right { display:flex; align-items:center; gap:.65rem; }
.rekap-sticky .rekap-persentase { display:inline-flex; align-items:center; justify-content:center; background:#eef5ff; color:#0d47a1; padding:.45rem .6rem; border-radius:12px; font-weight:800; letter-spacing:.3px; min-width:3.8rem; text-align:right; line-height:1; }
.rekap-sticky progress { height: 10px; width: clamp(120px, 30vw, 260px); border-radius: 999px; overflow: hidden; }
.rekap-sticky progress::-webkit-progress-bar { background: rgba(13,71,161,.15); border-radius: 999px; }
.rekap-sticky progress::-webkit-progress-value { background: var(--chip-active-bg); border-radius: 999px; }
[data-tema='gelap'] .rekap-sticky { background: rgba(9,28,48,.88); border-color: rgba(255,255,255,.12); color:#9ecbff; }
[data-tema='gelap'] .rekap-sticky .rekap-persentase { background:#15344b; color:#8bc4ff; }
[data-tema='gelap'] .rekap-sticky .rekap-nilai strong,
[data-tema='gelap'] .rekap-sticky .rekap-nilai span { background:#15344b; color:#8bc4ff; }
[data-tema='gelap'] .rekap-sticky .rekap-nilai strong { color: #e3f2fd; }

/* Hindari bertabrakan dengan nav floating jika aktif */
.param-nav.floating + .rekap-sticky, .rekap-sticky + .param-nav.floating { margin-bottom: 3.5rem; }

/* Rekap nilai pill mirip claimed */
.rekap-sticky .rekap-nilai { display:flex; gap:.35rem; align-items:center; }
.rekap-sticky .rekap-nilai strong,
.rekap-sticky .rekap-nilai span { display:inline-flex; align-items:center; justify-content:center; background:#eef5ff; color:#0d47a1; padding:.45rem .6rem; border-radius:12px; font-weight:800; font-size: var(--fs-lg); min-width:3.4rem; line-height:1; }

