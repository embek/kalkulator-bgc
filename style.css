/*
	Style Kalkulator Penilaian BGC
	Fokus: Mobile-first, aksesibilitas, dan keterbacaan.
	Bahasa: Indonesia (komentar & variabel) sesuai permintaan.
*/

:root {
	--warna-primer: #1e88e5;
	--warna-primer-teks: #ffffff;
	--warna-latar: #f7f9fc;
	--warna-kartu: #ffffff;
	--warna-border: #e6ebf1;
	--warna-aksen: #1e88e5;
	--warna-bahaya: #c62828;
	--radius: 14px;
	--bayangan-kartu: 0 2px 6px rgba(16,24,40,.06), 0 4px 10px -2px rgba(16,24,40,.06);
	--transisi: .25s cubic-bezier(.4,0,.2,1);
	/* Skala Spasi */
	--sp-0: 0;
	--sp-1: 4px;
	--sp-2: 8px;
	--sp-3: 12px;
	--sp-4: 16px;
	--sp-5: 20px;
	--sp-6: 24px;
	--sp-7: 32px;
	--sp-8: 40px;
	font-size: 16px;
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
html, body { margin:0; padding:0; }
/* Pastikan atribut [hidden] selalu menyembunyikan elemen */
[hidden] { display: none !important; }
body {
	font-family: 'Inter', system-ui, Arial, sans-serif;
	color: #1f2933;
	line-height: 1.45;
	-webkit-font-smoothing: antialiased;
	min-height: 100vh;
	display:flex;
	flex-direction:column;
	-webkit-text-size-adjust: 100%;
	overscroll-behavior-y: contain;
	background: var(--warna-latar);
}

.app-bar {
	background: #ffffff;
	color: #0f172a;
	padding: clamp(.55rem,2.5vw,.8rem) clamp(.8rem,3vw,1rem);
	box-shadow: 0 1px 0 var(--warna-border);
	position: sticky;
	top: 0;
	z-index: 50;
	display:flex; align-items:center; gap:.6rem; min-height:54px;
}
.app-bar h1 { font-size: 1.05rem; margin:0; letter-spacing:.5px; white-space:nowrap; font-weight:800; }
.app-bar h1 { margin-right:auto; }
.app-bar #btn-tema { flex:0 0 auto; }
.app-bar .btn.sekunder { background:#fff; color:#0f172a; border:1px solid var(--warna-border); }
.app-bar .btn.sekunder:hover { background:#f8fafc; }

.konten { flex:1; width:100%; max-width: 880px; margin: 0 auto; padding: 1rem clamp(.75rem,3vw,1.25rem) 2rem; padding-bottom: 6rem; }
.deskripsi { font-size:.9rem; margin:0 0 1rem; color:#45515f; }

form { width:100%; }

.daftar-parameter { display:grid; gap: .9rem; margin-bottom: 1.5rem; }

.kartu-parameter {
	background: var(--warna-kartu);
	border:1px solid var(--warna-border);
	border-radius: var(--radius);
	padding: .9rem .95rem 1rem;
	position:relative;
	box-shadow: var(--bayangan-kartu);
	display:grid;
	gap:.65rem;
	transition: var(--transisi);
}
.kartu-parameter:focus-within { border-color: var(--warna-aksen); box-shadow: 0 0 0 2px rgba(25,118,210,.2); }

.kartu-parameter header { display:flex; justify-content:space-between; align-items:center; gap:.75rem; }
.kartu-parameter h2 { font-size: .95rem; margin:0; font-weight:600; line-height:1.2; }
.kartu-parameter small { font-size:.65rem; font-weight:500; letter-spacing:.5px; color:#516171; text-transform:uppercase; }

.input-grup { display:flex; align-items:center; gap:.75rem; }
.input-grup label { font-size:.75rem; font-weight:500; color:#37414c; flex:1; }

.input-grup input[type=number] {
	width: 110px;
	font-size: 1rem;
	padding: .55rem .65rem;
	border-radius: 10px;
	border:1px solid #c3cdd6;
	background:#fdfefe;
	font-weight:500;
	text-align:center;
	transition: var(--transisi);
	appearance: textfield;
	-moz-appearance: textfield;
}
.input-grup input[type=number]:focus { outline:none; border-color: var(--warna-aksen); box-shadow: 0 0 0 2px rgba(25,118,210,.25); }
.input-grup input[type=number]::-webkit-outer-spin-button, .input-grup input[type=number]::-webkit-inner-spin-button { -webkit-appearance: none; margin:0; }

.rentang { font-size:.7rem; color:#5d6a78; font-weight:500; }

.nilai-maks { background:#eef5ff; color:#0d47a1; font-size:.6rem; padding:.2rem .45rem; border-radius:20px; font-weight:600; letter-spacing:.5px; }

.ringkasan { margin-top: .5rem; }
.ringkasan h2 { font-size:1rem; margin:0 0 .65rem; }

.card-total { background: var(--warna-kartu); padding: .9rem 1rem 1rem; border:1px solid var(--warna-border); border-radius: var(--radius); box-shadow: var(--bayangan-kartu); display:grid; gap:.4rem; }
.total-item { display:flex; justify-content:space-between; font-size:.85rem; }
.total-item strong { font-weight:600; }
.total-item.persen strong { font-size:1.05rem; color: var(--warna-primer); }

progress { width:100%; height: 14px; border:none; border-radius: 8px; overflow:hidden; background:#e7edf3; }
progress::-webkit-progress-bar { background:#e7edf3; }
progress::-webkit-progress-value { background: linear-gradient(90deg,#1976d2,#42a5f5); border-radius:8px; }
progress::-moz-progress-bar { background: linear-gradient(90deg,#1976d2,#42a5f5); }

.aksi { display:flex; gap:.75rem; margin:1.25rem 0 .25rem; }
.btn { flex:1; border:none; padding:.75rem .9rem; font-size:.8rem; font-weight:600; letter-spacing:.5px; text-transform:uppercase; border-radius:12px; cursor:pointer; transition:var(--transisi); display:inline-flex; justify-content:center; align-items:center; gap:.4rem; position:relative; }
.btn.besar { font-size:.95rem; padding:1rem 1.1rem; letter-spacing:.8px; }
.btn { min-height:44px; line-height:1.2; }
.btn:active { transform:translateY(2px); }
.btn.sentuh-aktif { filter:brightness(1.08); transform:translateY(1px); }
.btn.ripple { position:relative; overflow:hidden; }
.btn.ripple::after { content:""; position:absolute; inset:0; background:radial-gradient(circle at var(--x,50%) var(--y,50%), rgba(255,255,255,.55), transparent 60%); opacity:0; transition:opacity .6s ease; }
.btn.sentuh-aktif.ripple::after { opacity:1; }
.btn.primer { background: linear-gradient(135deg,#1565c0,#0d47a1); color:#fff; }
.btn.primer:hover { filter:brightness(1.05); }
.btn.sekunder { background:#ffffff; color:#0d47a1; border:1px solid #0d47a1; }
.btn.sekunder:hover { background:#eef5ff; }
.btn.bahaya { background: linear-gradient(135deg,#e53935,#c62828); color:#fff; }
.btn.bahaya:hover { filter:brightness(1.05); }

.panel-bantuan { margin:1.5rem 0 2rem; background: var(--warna-kartu); border:1px solid var(--warna-border); border-radius: var(--radius); padding:.75rem 1rem 1rem; box-shadow: var(--bayangan-kartu); }
.panel-bantuan summary { cursor:pointer; font-weight:600; font-size:.85rem; list-style:none; }
.panel-bantuan[open] summary { margin-bottom:.5rem; }
.panel-bantuan ol { margin:.25rem 0 0 1rem; padding:0; font-size:.75rem; line-height:1.35; }

.footer { text-align:center; font-size:.65rem; padding: 1.25rem .75rem 2rem; color:#5d6a78; }

/* Grid adaptif untuk layar lebih lebar */
@media (min-width: 620px) {
	.daftar-parameter { grid-template-columns: repeat(auto-fill,minmax(250px,1fr)); }
	.kartu-parameter { min-height: 170px; }
}

/* Tema gelap manual via atribut data-tema="gelap" di <html> atau <body> */
[data-tema='gelap'] { --warna-latar:#0f141a; --warna-kartu:#1b242f; --warna-border:#2a3644; color-scheme:dark; }
[data-tema='gelap'] body { color:#d5dde5; }
[data-tema='gelap'] .deskripsi { color:#a9bac9; }
[data-tema='gelap'] .input-grup input[type=number] { background:#141b22; border-color:#3a4a59; color:#f1f6fa; }
[data-tema='gelap'] .nilai-maks { background:#17324d; color:#9dd0ff; }
[data-tema='gelap'] progress { background:#253444; }
[data-tema='gelap'] .panel-bantuan { background:#1b242f; }
[data-tema='gelap'] .btn.sekunder { background:#223040; color:#90caf9; border-color:#1976d2; }
[data-tema='gelap'] .btn.sekunder:hover { background:#1a2835; }
[data-tema='gelap'] .card-total { background:#1b242f; }
[data-tema='gelap'] .kartu-parameter { background:#1b242f; }
[data-tema='gelap'] .hasil-item { background:#203145; }
[data-tema='gelap'] .hasil-item span { color:#b9c9d7; }
[data-tema='gelap'] .hasil-item strong { color:#e7eef6; }

/* --- Theme overrides to match sample UI (white header, blue accent, soft borders) --- */
:root {
  --warna-primer: #1e88e5;
  --warna-aksen: #1e88e5;
  --warna-latar: #f7f9fc;
  --warna-kartu: #ffffff;
  --warna-border: #e6ebf1;
  --bayangan-kartu: 0 2px 6px rgba(16,24,40,.06), 0 4px 10px -2px rgba(16,24,40,.06);
}

.app-bar { background:#ffffff; color:#0f172a; box-shadow: 0 1px 0 var(--warna-border); }
.app-bar h1 { font-weight:800; letter-spacing:.2px; }
.app-bar .btn.sekunder { background:#fff; color:#0f172a; border:1px solid var(--warna-border); }
.app-bar .btn.sekunder:hover { background:#f8fafc; }

/* Dark header overrides */
[data-tema='gelap'] .app-bar { background:#0b1220; color:#e5edf7; box-shadow: 0 1px 0 rgba(255,255,255,.08); }
[data-tema='gelap'] .app-bar .btn.sekunder { background:#223040; color:#9ecbff; border-color:#2d3a46; }
[data-tema='gelap'] .app-bar .btn.sekunder:hover { background:#1a2835; }

.param-nav { background:transparent; border:none; }
.param-nav .chip { border:1px solid var(--warna-border); background:#ffffff; color:var(--warna-aksen); box-shadow: 0 1px 2px rgba(16,24,40,.04); padding:.48rem .7rem; }
.param-nav .chip[aria-current="true"], .param-nav .chip.aktif { background:var(--warna-aksen); color:#fff; border-color:var(--warna-aksen); box-shadow: 0 4px 10px -3px rgba(30,136,229,.35); }
.param-nav.floating { background:#ffffff; border:1px solid var(--warna-border); box-shadow: 0 12px 34px rgba(16,24,40,.18), 0 6px 12px rgba(16,24,40,.10); max-width: min(980px, 96vw); }
.param-nav.floating .chip { border-color: var(--warna-border); background:#ffffff; color:var(--warna-aksen); }

.pc-kriteria { background:#ffffff; border:1px solid var(--warna-border); }
.pc-indikator .indikator-item { border:1px solid var(--warna-border); }
.pc-indikator .indikator-item:hover { border-color:#cfd8e3; }

.hasil-item { background:#ffffff; border:1px solid var(--warna-border); box-shadow: var(--bayangan-kartu); }
.hasil-item strong { color:#1f2a37; font-weight:800; font-size:1.1rem; }
.hasil-item span { font-weight:700; }

.badge-klasifikasi { background:#eef2f7; color:#0f172a; border:1px solid var(--warna-border); }
.badge-utamanya { background:#e8f5e9; color:#1b5e20; }
.badge-madya { background:#fff3e0; color:#b45309; }
.badge-pratama { background:#e3f2fd; color:#0d47a1; }
.badge-belum { background:#eceff1; color:#455a64; }

/* F element badges to lighter fills */
.f-elemen-w { background:#e8f5e9; color:#1b5e20; }
.f-elemen-d { background:#fff3e0; color:#b45309; }
.f-elemen-s { background:#eceff1; color:#455a64; }

/* Dark mode keeps prior overrides; ensure floating nav contrast */
[data-tema='gelap'] .param-nav.floating { background: rgba(9,28,48,.9); border-color: rgba(255,255,255,.12); }

/* Final override: ensure dark variables win over latest :root values */
[data-tema='gelap'] {
	--warna-latar:#0f141a;
	--warna-kartu:#1b242f;
	--warna-border:#2a3644;
}

/* Themed navbar variables and application */
:root {
	--nav-bg: #ffffff;
	--nav-border: #e6ebf1;
	--chip-bg: #ffffff;
	--chip-border: #e6ebf1;
	--chip-color: var(--warna-aksen);
	--chip-active-bg: var(--warna-aksen);
	--chip-active-color: #ffffff;
}
[data-tema='gelap'] {
	--nav-bg: rgba(9,28,48,.9);
	--nav-border: rgba(255,255,255,.12);
	--chip-bg: #223040;
	--chip-border: #2d3a46;
	--chip-color: #9ecbff;
	--chip-active-bg: var(--warna-aksen);
	--chip-active-color: #e3f2fd;
}
.param-nav.floating { background: var(--nav-bg) !important; border-color: var(--nav-border) !important; }
.param-nav.floating .chip { background: var(--chip-bg) !important; border-color: var(--chip-border) !important; color: var(--chip-color) !important; }
.param-nav.floating .chip[aria-current="true"], .param-nav.floating .chip.aktif { background: var(--chip-active-bg) !important; color: var(--chip-active-color) !important; border-color: var(--chip-active-bg) !important; box-shadow: 0 4px 10px -3px rgba(30,136,229,.35); }
.param-nav.floating .chip:hover { filter: brightness(1.02); }
[data-tema='gelap'] .param-nav.floating .chip:hover { filter: brightness(1.05); }

/* Animasi ringan untuk masuk */
@keyframes masuk { from { opacity:0; transform:translateY(6px);} to { opacity:1; transform:translateY(0);} }
.kartu-parameter { animation: masuk .4s ease both; }

/* Data Bangunan */
.data-bangunan { background: var(--warna-kartu); border:1px solid var(--warna-border); border-radius: var(--radius); padding: 1rem 1rem 1.1rem; box-shadow: var(--bayangan-kartu); margin-bottom:1.1rem; }
.data-bangunan h2 { margin:0 0 .75rem; font-size: var(--fs-lg); line-height: 1.2; display:flex; align-items:center; min-height: 44px; }
.grid-form { display:grid; gap:.85rem; }
@media (min-width:560px){
	.grid-form { grid-template-columns: repeat(auto-fit,minmax(200px,1fr)); }
}
.grid-form > .grup-form { min-width: 0; }
.grup-form { display:flex; flex-direction:column; gap:.4rem; }
.grup-form label { font-size:.75rem; font-weight:600; letter-spacing:.5px; text-transform:uppercase; color:#37414c; }
.grup-form select { width:100%; padding:.7rem .75rem; border:1px solid #c3cdd6; border-radius:10px; background:#fdfefe; font-size:.85rem; font-weight:500; appearance:none; background-image:linear-gradient(45deg,transparent 50%,#0d47a1 50%),linear-gradient(135deg,#0d47a1 50%,transparent 50%); background-position:calc(100% - 18px) calc(50% - 5px), calc(100% - 13px) calc(50% - 5px); background-size:6px 6px, 6px 6px; background-repeat:no-repeat; }
.grup-form select:focus { outline:none; border-color: var(--warna-aksen); box-shadow:0 0 0 2px rgba(25,118,210,.25); }

/* Section Parameter Expandable (details + summary) */
.parameter { margin-bottom:1rem; }
.parameter h2 { font-size:1rem; margin:0 0 .75rem; }
.kartu-parameter { padding-top:.75rem; }
.kartu-parameter details { border:1px solid var(--warna-border); border-radius:12px; background: #fbfdff; overflow:hidden; }
.kartu-parameter details[open] { background:#f1f7ff; }
.kartu-parameter summary { list-style:none; cursor:pointer; padding:.65rem .85rem; font-weight:600; font-size:.8rem; display:flex; align-items:center; gap:.6rem; position:relative; }
.kartu-parameter summary::-webkit-details-marker { display:none; }
.ikon-expand { width:18px; height:18px; border-radius:50%; background:#1976d2; flex:none; display:grid; place-items:center; color:#fff; font-size:.65rem; font-weight:700; box-shadow:0 2px 4px -1px rgba(0,0,0,.35); }
details[open] .ikon-expand { background:#0d47a1; }
.isi-parameter { padding:.65rem .85rem .85rem; display:grid; gap:.55rem; animation: masuk .3s ease; }
.isi-parameter .input-grup { margin-top:.4rem; }

/* Blok Tombol Hitung */
.blok-tombol-hitung { margin: .75rem 0 1.1rem; display:flex; flex-direction:column; gap:.45rem; }
.keterangan-tombol { font-size:.65rem; color:#566370; margin:0; line-height:1.3; }

/* Hasil & Ringkasan */
.hasil-grid { display:flex; flex-wrap:wrap; gap:.75rem; margin-bottom:.4rem; }
.hasil-item { background:#ffffff; border:1px solid var(--warna-border); box-shadow: var(--bayangan-kartu); padding:.55rem .65rem .6rem; display:flex; flex-direction:column; gap:.2rem; justify-content:center; min-height:70px; flex:1 1 120px; }
.hasil-item span { font-size:.6rem; font-weight:600; letter-spacing:.6px; text-transform:uppercase; color:#516171; }
.hasil-item strong { font-size:1rem; font-weight:700; color:#1f2a37; }
.hasil-item.besar strong { font-size:1.25rem; }

/* Badge klasifikasi */
.badge-klasifikasi { background:#eef2f7; color:#0f172a; border:1px solid var(--warna-border); }
.badge-utamanya { background:#e8f5e9; color:#1b5e20; }
.badge-madya { background:#fff3e0; color:#b45309; }
.badge-pratama { background:#e3f2fd; color:#0d47a1; }
.badge-belum { background:#eceff1; color:#455a64; }

[data-tema='gelap'] .badge-klasifikasi { background:#2a3644; color:#b9c9d7; }
[data-tema='gelap'] .ringkasan h2 { color:#d5dde5; }
[data-tema='gelap'] .total-item { color:#b9c9d7; }
[data-tema='gelap'] .total-item strong { color:#e7eef6; }
[data-tema='gelap'] .badge-utamanya { background:#255f2c; color:#c8f5cf; }
[data-tema='gelap'] .badge-madya { background:#c25400; color:#ffe0b2; }
[data-tema='gelap'] .badge-pratama { background:#0d47a1; color:#bbdefb; }
[data-tema='gelap'] .badge-belum { background:#455a64; color:#cfd8dc; }

/* =============================
   MODE FORM GRID PARAMETER (Alternatif tampilan tabel)
   ============================= */
.form-parameter-grid { margin-top:.75rem; display:grid; gap:.5rem; }
.form-parameter-grid .fp-head { display:grid; grid-template-columns: 60px 1fr 70px 140px; gap:.4rem; font-size:.65rem; font-weight:600; text-transform:uppercase; letter-spacing:.5px; color:#44525f; padding:.4rem .55rem; background:#e8f1fb; border:1px solid var(--warna-border); border-radius:10px; }
.form-parameter-grid .fp-badan { display:grid; gap:.55rem; }
.form-parameter-grid .baris-param { display:grid; grid-template-columns: 60px 1fr 70px 140px; gap:.4rem; align-items:center; background:var(--warna-kartu); border:1px solid var(--warna-border); padding:.55rem .55rem; border-radius:12px; box-shadow: var(--bayangan-kartu); transition:var(--transisi); }
.form-parameter-grid .baris-param:focus-within { border-color: var(--warna-aksen); box-shadow:0 0 0 2px rgba(25,118,210,.25); }
.form-parameter-grid .baris-param .p-kode { font-weight:700; font-size:.8rem; color: var(--warna-primer); text-align:center; }
.form-parameter-grid .baris-param .p-nama { font-size:.75rem; font-weight:600; line-height:1.25; }
.form-parameter-grid .baris-param .p-maks { font-size:.65rem; background:#eef5ff; color:#0d47a1; padding:.25rem .4rem; border-radius:14px; text-align:center; font-weight:600; }
.form-parameter-grid .baris-param .p-input { display:flex; }
.form-parameter-grid .baris-param .p-input input { width:100%; padding:.55rem .6rem; font-size:.85rem; border:1px solid #c3cdd6; border-radius:10px; background:#fbfdff; font-weight:600; text-align:center; }
.form-parameter-grid .baris-param .p-input input:focus { outline:none; border-color: var(--warna-aksen); box-shadow:0 0 0 2px rgba(25,118,210,.25); }

@media (max-width: 620px) {
	.form-parameter-grid .fp-head { grid-template-columns: 48px 1fr 60px 108px; font-size:.58rem; }
	.form-parameter-grid .baris-param { grid-template-columns: 48px 1fr 60px 108px; padding:.55rem .5rem; }
	.form-parameter-grid .baris-param .p-input input { font-size:.78rem; }
}

[data-tema='gelap'] .form-parameter-grid .fp-head { background:#1e2b38; color:#9eb7cc; }
[data-tema='gelap'] .form-parameter-grid .baris-param { background:#1b242f; border-color:#2a3644; }
[data-tema='gelap'] .form-parameter-grid .baris-param .p-maks { background:#17324d; color:#9dd0ff; }
[data-tema='gelap'] .form-parameter-grid .baris-param .p-input input { background:#141b22; border-color:#384858; color:#f1f6fa; }
[data-tema='gelap'] .grup-form select { background:#141b22; border-color:#3a4a59; color:#e7eef6; }
/* Improve dropdown popup readability (browser-dependent) */
@media (prefers-color-scheme: dark) {
	[data-tema='gelap'] select option, [data-tema='gelap'] select optgroup { background-color:#141b22; color:#e7eef6; }
}
[data-tema='gelap'] .form-parameter-grid .baris-param:focus-within { border-color:#1976d2; box-shadow:0 0 0 2px rgba(25,118,210,.35); }

/* Scrollable section untuk konten parameter panjang di layar kecil */
@media (max-height: 760px) {
	.parameter .daftar-parameter { max-height: 55vh; overflow-y:auto; -webkit-overflow-scrolling:touch; padding-right:4px; }
}
@media (max-height: 640px) {
	.parameter .daftar-parameter { max-height: 50vh; }
}

/* Custom scrollbar (WebKit) */
.parameter .daftar-parameter::-webkit-scrollbar { width:8px; }
.parameter .daftar-parameter::-webkit-scrollbar-track { background:transparent; }
.parameter .daftar-parameter::-webkit-scrollbar-thumb { background:#c5d3e1; border-radius:20px; }
.parameter .daftar-parameter::-webkit-scrollbar-thumb:hover { background:#b1c3d4; }

/* Hindari zoom iOS pada fokus input (font-size >=16px) */
input[type=number], select { font-size:16px; }

/* Optimalisasi tap target tambahan */
summary, label, select, input, button { touch-action: manipulation; }

/* Media queries ukuran layar mobile kecil */
@media (max-width: 380px) {
	.app-bar h1 { font-size:.95rem; }
	.deskripsi { font-size:.78rem; }
	.btn { font-size:.7rem; }
	.btn.besar { font-size:.85rem; }
	.hasil-item strong { font-size:.9rem; }
	.hasil-item.besar strong { font-size:1.05rem; }
	.grup-form select { font-size:.8rem; }
	.input-grup input[type=number] { width:100px; }
}

@media (min-width: 480px) and (max-width: 599px) {
	.hasil-item { flex-basis: 140px; }
	progress { height:16px; }
}

@media (min-width: 600px) and (max-width: 767px) {
	.konten { padding: 1.25rem 1.25rem 2.5rem; }
	.btn.besar { font-size:1rem; }
}

@media (min-width: 768px) {
	.konten { padding: 1.5rem 1.75rem 3rem; }
	/* Biarkan section data-bangunan satu kolom; atur dua dropdown di dalam .grid-form saja */
	.data-bangunan { display:block; }
	/* Dua kolom seimbang untuk dua dropdown kiri/kanan */
	.grid-form { grid-template-columns: 1fr 1fr; column-gap: var(--sp-5); }
	.blok-tombol-hitung { flex-direction:row; align-items:center; }
	.keterangan-tombol { max-width:260px; }
}

/* Safe area support (iOS notch) */
@supports (padding: max(0px)) {
	.app-bar { padding-left: max(1rem, env(safe-area-inset-left)); padding-right:max(1rem, env(safe-area-inset-right)); padding-top: calc(.6rem + env(safe-area-inset-top)); }
	.footer { padding-bottom: calc(2rem + env(safe-area-inset-bottom)); }
}


/* =============================
	 TIPOGRAFI: Skala dan Override Mobile
	 ============================= */
:root {
	/* Skala ukuran font yang konsisten (berbasis rem; 1rem = 16px) */
	--fs-2xs: 0.72rem;  /* ~11.5px */
	--fs-xs:  0.80rem;  /* 12.8px */
	--fs-sm:  0.88rem;  /* 14.1px */
	--fs-md:  0.95rem;  /* 15.2px */
	--fs-base: 1rem;    /* 16px */
	--fs-lg:  1.125rem; /* 18px */
	--fs-xl:  1.25rem;  /* 20px */
	--lh-tight: 1.2;
	--lh-normal: 1.35;
	--lh-comfy: 1.45;
}

/* Sedikit perbesar seluruh basis font pada layar kecil untuk keterbacaan */
@media (max-width: 380px) {
	:root { font-size: 17px; }
}
@media (min-width: 768px) {
	:root {
		--fs-2xs: 0.70rem;
		--fs-xs:  0.78rem;
		--fs-sm:  0.86rem;
		--fs-md:  0.95rem;
		--fs-lg:  1.12rem;
		--fs-xl:  1.22rem;
	}
}

/* Headings & umum */
.app-bar h1 { font-size: var(--fs-md); }
.deskripsi { font-size: var(--fs-sm); line-height: var(--lh-normal); }

/* Tombol */
.btn { font-size: var(--fs-sm); }
.btn.besar { font-size: var(--fs-md); }

/* Nav chip */
.param-nav .chip { font-size: var(--fs-sm); }

/* Header parameter (summary) */
.pc-parameter summary h3 { font-size: var(--fs-md); }
.pc-parameter summary .maks { font-size: var(--fs-xs); }

/* Kriteria & indikator */
.pc-kriteria h4 { font-size: var(--fs-sm); }
.pc-kriteria .penjelasan { font-size: var(--fs-xs); line-height: var(--lh-normal); }
.pc-indikator .indikator-item .judul { font-size: var(--fs-sm); }
.pc-indikator label { font-size: var(--fs-sm); }
.pc-indikator .indikator-item .meta { font-size: var(--fs-xs); }
.pc-indikator .indikator-item .klaim .klaim-label { font-size: var(--fs-xs); }
.pc-indikator .indikator-item .klaim .multiplier { font-size: var(--fs-xs); }
.pc-indikator .indikator-item .klaim .claimed,
.pc-indikator .indikator-item .klaim .claimed-mult { font-size: var(--fs-xs); }
.pc-kriteria .subtotal { font-size: var(--fs-xs); }
.pc-parameter .subtotal-parameter { font-size: var(--fs-sm); }

/* Hasil & ringkasan */
.ringkasan h2 { font-size: var(--fs-lg); }
.total-item { font-size: var(--fs-sm); }
.total-item.persen strong { font-size: var(--fs-lg); }
.hasil-item span { font-size: var(--fs-xs); }
.hasil-item strong { font-size: var(--fs-md); }

/* Data bangunan: radio pill & tooltip */
.radio-pill { font-size: var(--fs-sm); }
.radio-pill .info-btn { font-size: var(--fs-xs); }
.tooltip-content { font-size: var(--fs-xs); }


/* =============================
   MODE CHECKLIST (Kriteria & Indikator)
   ============================= */
.parameter-checklist { display:grid; gap:1rem; margin-top:.75rem; }
.param-nav { flex:1 1 auto; display:flex; gap:.5rem; padding:.3rem .4rem; overflow:auto hidden; -webkit-overflow-scrolling: touch; scrollbar-width: thin; background: rgba(255,255,255,.08); border-radius: 999px; border:1px solid rgba(255,255,255,.25); }
.param-nav::-webkit-scrollbar { height:8px; }
.param-nav::-webkit-scrollbar-thumb { background:#c5d3e1; border-radius:20px; }
.param-nav .chip { flex:0 0 auto; padding:.4rem .6rem; font-size:.75rem; font-weight:800; letter-spacing:.3px; border:1px solid #cbd7e4; background:#f5f9ff; color:#0d47a1; border-radius:999px; cursor:pointer; user-select:none; transition: var(--transisi); display:inline-flex; align-items:center; gap:.45rem; }
.param-nav .chip .nama { display:none; font-weight:700; opacity:.95; }
.param-nav .chip.tampil-nama .nama { display:inline; }
.param-nav .chip[aria-current="true"], .param-nav .chip.aktif { background:#1976d2; color:#fff; border-color:#1976d2; box-shadow: 0 4px 10px -3px rgba(25,118,210,.45); }
.param-nav .chip:active { transform: translateY(1px); }
[data-tema='gelap'] .param-nav { background: rgba(255,255,255,.08); border-color: rgba(255,255,255,.18); }
[data-tema='gelap'] .param-nav .chip { background:#223040; border-color:#2d3a46; color:#9ecbff; }
[data-tema='gelap'] .param-nav .chip[aria-current="true"] { background:#0d47a1; border-color:#0d47a1; color:#e3f2fd; }
/* Floating bottom navbar */
.param-nav.floating { position: fixed; left: 50%; transform: translateX(-50%); bottom: max(12px, env(safe-area-inset-bottom)); z-index: 60; max-width: min(880px, 96vw); width: auto; padding: .35rem .5rem; background: rgba(13,71,161,.9); border-color: rgba(255,255,255,.35); box-shadow: 0 8px 24px rgba(0,0,0,.22), 0 2px 8px rgba(0,0,0,.15); backdrop-filter: blur(6px); }
.param-nav.floating .chip { border-color: rgba(255,255,255,.55); background: rgba(255,255,255,.95); }
[data-tema='gelap'] .param-nav.floating { background: rgba(9,28,48,.85); border-color: rgba(255,255,255,.2); }
[data-tema='gelap'] .param-nav.floating .chip { background:#223040; border-color:#2d3a46; color:#9ecbff; }
.param-nav.floating .chip[aria-current="true"], .param-nav.floating .chip.aktif { background:#1976d2; color:#fff; border-color:#1976d2; box-shadow: 0 4px 10px -3px rgba(25,118,210,.45); }
[data-tema='gelap'] .param-nav.floating .chip[aria-current="true"], [data-tema='gelap'] .param-nav.floating .chip.aktif { background:#0d47a1; border-color:#0d47a1; color:#e3f2fd; }

/* keep centered even on small screens; width already capped by 96vw */
.pc-parameter { border:1px solid var(--warna-border); background:var(--warna-kartu); border-radius:16px; padding:.25rem .95rem .95rem; box-shadow: var(--bayangan-kartu); display:grid; gap:.75rem; }
.pc-parameter { content-visibility: auto; contain-intrinsic-size: 300px 400px; }
.pc-parameter summary.pc-parameter-summary { cursor:pointer; list-style:none; display:flex; align-items:center; gap:.75rem; padding:.6rem .2rem; min-height: 44px; }
.pc-parameter summary::-webkit-details-marker { display:none; }
.pc-parameter summary .kode { background:#1976d2; color:#fff; font-weight:700; font-size:.7rem; letter-spacing:.5px; padding:.35rem .6rem; border-radius:10px; box-shadow:0 2px 4px -1px rgba(0,0,0,.25); flex:0 0 auto; }
.pc-parameter summary h3 { margin:0; font-size:.9rem; font-weight:600; line-height:1.25; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; flex:1 1 auto; }
.pc-parameter summary .maks { font-size:.6rem; font-weight:600; letter-spacing:.5px; background:#eef5ff; color:#0d47a1; padding:.3rem .55rem; border-radius:12px; margin-left:auto; }
.pc-kriteria { border:1px solid var(--warna-border); border-radius:14px; background:#f8fbfe; padding:.75rem .75rem .85rem; display:grid; gap:.65rem; position:relative; }
.pc-kriteria h4 { margin:0; font-size:.75rem; font-weight:600; line-height:1.35; display:flex; align-items:flex-start; gap:.5rem; flex-wrap:wrap; }
.pc-kriteria h4 .f-elemen-badge { margin-left:auto; }
.pc-kriteria .penjelasan { font-size:.6rem; color:#4a5662; line-height:1.3; margin:0; }
.pc-indikator { display:flex; flex-direction:column; gap:.45rem; }
.pc-indikator .indikator-item { display:flex; flex-wrap:nowrap; align-items:flex-start; gap:.4rem .5rem; padding:.55rem .6rem .6rem; border:1px solid #d6e0ea; background:#ffffff; border-radius:10px; position:relative; }
.pc-indikator .indikator-item:hover { border-color:#b3c6d8; }
.pc-indikator .indikator-item .judul { font-size:.65rem; font-weight:600; line-height:1.3; order:1; flex:1 1 auto; }
.pc-indikator .indikator-item .meta { display:flex; flex-wrap:wrap; gap:.4rem .75rem; align-items:center; font-size:.55rem; font-weight:500; letter-spacing:.3px; color:#4b5a67; }
.pc-indikator .opsi-radio { display:flex; flex-direction:column; gap:.3rem; margin-top:.15rem; order:3; flex: 1 1 100%; }
.pc-indikator label { display:flex; align-items:flex-start; gap:.45rem; font-size:.6rem; line-height:1.25; font-weight:500; cursor:pointer; padding:.35rem .4rem; border:1px solid transparent; border-radius:8px; }
.pc-indikator label:hover { background:#f1f7ff; }
.pc-indikator input[type=radio], .pc-indikator input[type=checkbox] { margin-top:.05rem; }
.pc-kriteria .subtotal { font-size:.6rem; font-weight:600; letter-spacing:.4px; background:#e3f2fd; color:#0d47a1; padding:.25rem .5rem; border-radius:10px; justify-self:start; }
.pc-parameter .subtotal-parameter { font-size:.65rem; font-weight:700; color:#0d47a1; background:#dbeeff; padding:.35rem .65rem; border-radius:12px; align-self:start; }

.pc-indikator .indikator-item .klaim { margin-left:auto; display:flex; flex-direction:column; align-items:flex-end; gap:.25rem; order:2; }
.pc-indikator .indikator-item .klaim .klaim-label { font-size:.55rem; font-weight:700; letter-spacing:.3px; color:#44525f; opacity:.9; }
.pc-indikator .indikator-item .klaim .klaim-values { display:flex; gap:.4rem; align-items:stretch; }
.pc-indikator .indikator-item .klaim .multiplier { background:#fff3e0; color:#ef6c00; padding:.2rem .4rem; border-radius:10px; font-weight:800; font-size:.6rem; min-width: auto; }
[data-tema='gelap'] .pc-indikator .indikator-item .klaim .multiplier { background:#3a2a12; color:#ffb74d; }
.pc-indikator .indikator-item > label { order:1; flex:1 1 auto; }

/* Left/Right columns inside indikator-item */
.indikator-item .ind-left { order:1; flex:1 1 auto; min-width:0; display:flex; flex-direction:column; gap:.2rem; }
.indikator-item .ind-right { order:2; flex:0 0 auto; display:flex; align-items:flex-start; justify-content:flex-end; margin-left:auto; }


/* Penanda indikator wajib */
.judul.is-required { font-weight:700; }
.judul .asterisk { color:#c62828; font-weight:900; margin-left:.1rem; }
[data-tema='gelap'] .judul .asterisk { color:#ef9a9a; }

/* Tampilan angka klaim */
.pc-indikator .indikator-item .klaim .claimed,
.pc-indikator .indikator-item .klaim .claimed-mult {
	display:flex;
	align-items:center;
	justify-content:flex-end;
	background:#eef5ff;
	color:#0d47a1;
	padding:.45rem .6rem;
	border-radius:12px;
	font-weight:800;
	font-size: var(--fs-xl);
	min-width: 3.4rem;
	line-height:1;
	text-align:right;
}
[data-tema='gelap'] .pc-indikator .indikator-item .klaim .claimed,
[data-tema='gelap'] .pc-indikator .indikator-item .klaim .claimed-mult {
	background:#15344b;
	color:#8bc4ff;
}
.pc-indikator .indikator-item .klaim .multiplier { font-size: var(--fs-xs); }

@media (min-width: 768px) {
	.pc-indikator .indikator-item .klaim .claimed,
	.pc-indikator .indikator-item .klaim .claimed-mult { font-size: var(--fs-lg); }
}
[data-tema='gelap'] .pc-indikator .indikator-item .klaim .klaim-label { color:#9eb7cc; }

[data-tema='gelap'] .pc-parameter { background:#1b242f; border-color:#2a3644; }
[data-tema='gelap'] .pc-parameter header .maks,
[data-tema='gelap'] .pc-parameter summary .maks { background:#17324d; color:#9dd0ff; }
[data-tema='gelap'] .pc-kriteria { background:#19232d; border-color:#2a3644; }
[data-tema='gelap'] .pc-indikator .indikator-item { background:#141b22; border-color:#2d3a46; }
[data-tema='gelap'] .pc-indikator .indikator-item:hover { border-color:#395064; }
[data-tema='gelap'] .pc-indikator label:hover { background:#14212c; }
[data-tema='gelap'] .pc-kriteria .subtotal { background:#15344b; color:#8bc4ff; }
[data-tema='gelap'] .pc-parameter .subtotal-parameter { background:#15344b; color:#8bc4ff; }

/* Implementasi Matrix */
/* Implementasi Global Catatan */
.catatan-global { margin-top:1rem; background: var(--warna-kartu); border:1px solid var(--warna-border); border-radius: var(--radius); padding: .9rem 1rem 1rem; box-shadow: var(--bayangan-kartu); display:grid; gap:.7rem; }
/* Pastikan panel catatan melebar hampir selebar container */
.catatan-global { max-width: 100%; }
.catatan-global h3 { margin:0; font-size:.9rem; }
.ket-catatan { margin:0; font-size:.6rem; line-height:1.3; color:#516171; }
.daftar-catatan-global { display:flex; flex-wrap:wrap; gap:.5rem .7rem; }
.daftar-catatan-global label { background:#f4f8fc; border:1px solid #d6e0ea; padding:.4rem .55rem; border-radius:10px; font-size:.6rem; font-weight:500; display:inline-flex; gap:.4rem; align-items:flex-start; cursor:pointer; }
.daftar-catatan-global label:hover { background:#e9f3ff; }
.daftar-catatan-global input { margin:0; }
/* Format nomor & teks catatan agar mudah dibaca */
.daftar-catatan-global label .no { font-weight:800; color:#0d47a1; }
.daftar-catatan-global label .teks { white-space:normal; }
[data-tema='gelap'] .catatan-global { background:#1b242f; border-color:#2a3644; }
[data-tema='gelap'] .daftar-catatan-global label { background:#14212c; border-color:#2d3a46; }
[data-tema='gelap'] .daftar-catatan-global label:hover { background:#1d3040; }

/* Badge kategori elemen (W/D/S) untuk Parameter F */
.f-elemen-badges { display:flex; flex-wrap:wrap; gap:.4rem .5rem; margin-top:.4rem; }
.f-elemen-badge { font-size:.55rem; font-weight:600; letter-spacing:.4px; padding:.25rem .45rem; border-radius:14px; display:inline-flex; align-items:center; gap:.25rem; line-height:1; box-shadow:0 1px 2px rgba(0,0,0,.15); }
.f-elemen-badge span { font-weight:700; }
.f-elemen-w { background:#e8f5e9; color:#1b5e20; }
.f-elemen-d { background:#fff3e0; color:#b45309; }
.f-elemen-s { background:#eceff1; color:#455a64; }
[data-tema='gelap'] .f-elemen-w { background:#255f2c; color:#c8f5cf; }
[data-tema='gelap'] .f-elemen-d { background:#c25400; color:#ffe0b2; }
[data-tema='gelap'] .f-elemen-s { background:#455a64; color:#cfd8dc; }

/* Container ringkas dalam kartu Parameter F */
.pc-parameter[data-param="F"] .f-elemen-wrapper { border:1px dashed var(--warna-border); border-radius:12px; padding:.6rem .65rem .7rem; background:#f8fbfe; margin-top:.25rem; }
[data-tema='gelap'] .pc-parameter[data-param="F"] .f-elemen-wrapper { background:#19232d; border-color:#2a3644; }
.f-elemen-wrapper h4 { margin:.1rem 0 .55rem; font-size:.65rem; font-weight:700; letter-spacing:.5px; text-transform:uppercase; color:#0d47a1; }
[data-tema='gelap'] .f-elemen-wrapper h4 { color:#8bc4ff; }
.f-elemen-ket { font-size:.55rem; margin:0 0 .5rem; line-height:1.25; color:#4b5a67; }
[data-tema='gelap'] .f-elemen-ket { color:#9eb7cc; }


/* Sentuhan nyaman */
@media (pointer:coarse) {
	.input-grup input[type=number] { padding:.7rem .75rem; font-size:1.05rem; }
	.btn { padding:.9rem .95rem; }
}

/* Radios for Data Bangunan */
.radio-group { display:flex; flex-wrap:wrap; gap:.5rem .6rem; }
.radio-pill { display:inline-flex; align-items:flex-start; gap:.4rem; padding:.45rem .55rem; border:1px solid #c3cdd6; background:#fdfefe; border-radius:999px; font-size:.75rem; font-weight:600; color:#24313d; cursor:pointer; }
.radio-pill input { appearance:none; width:16px; height:16px; border-radius:50%; border:2px solid #1976d2; margin:.05rem 0 0; display:inline-block; position:relative; }
.radio-pill input:checked { background:#1976d2; box-shadow:inset 0 0 0 3px #fff; }
.radio-pill .opsi-teks { display:inline-flex; align-items:center; gap:.35rem; }
.radio-pill .info-btn { width:16px; height:16px; border-radius:50%; background:#e3f2fd; color:#0d47a1; display:inline-grid; place-items:center; font-size:.65rem; font-weight:900; cursor:pointer; border:1px solid #b3c6d8; }
.radio-pill .info-btn:hover { background:#d6ecff; }

[data-tema='gelap'] .radio-pill { background:#141b22; border-color:#3a4a59; color:#e7eef6; }
[data-tema='gelap'] .radio-pill input { border-color:#64b5f6; }
[data-tema='gelap'] .radio-pill input:checked { background:#0d47a1; box-shadow:inset 0 0 0 3px #141b22; }
[data-tema='gelap'] .radio-pill .info-btn { background:#15344b; border-color:#2d3a46; color:#9ecbff; }

/* Ensure labels stay visible in dark mode */
[data-tema='gelap'] .grup-form label { color:#cfe1f1; }

/* Simple tooltip */
.tooltip { position:relative; }
.tooltip:hover .tooltip-content, .tooltip:focus-within .tooltip-content { opacity:1; pointer-events:auto; transform:translateY(-2px); }
.tooltip-content { position:absolute; left:0; top:calc(100% + 6px); min-width:220px; max-width: min(70vw, 360px); background:#0d47a1; color:#fff; border-radius:10px; padding:.55rem .65rem; font-size:.7rem; line-height:1.3; box-shadow:0 8px 24px rgba(0,0,0,.2); opacity:0; pointer-events:none; transition:var(--transisi); z-index:30; }
.tooltip-content .judul { font-weight:800; margin:0 0 .25rem; }
.tooltip-content .isi { margin:0; opacity:.95; }
[data-tema='gelap'] .tooltip-content { background:#0b2f68; }

