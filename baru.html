<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator Penilaian Kinerja Bangunan Gedung Cerdas Tahap Pemanfaatan</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
        }

        .header {
            background-color: #0d6efd;
            color: white;
            padding: 2rem 0;
            margin-bottom: 2rem;
        }

        .card {
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .section-title {
            color: #0d6efd;
            border-bottom: 2px solid #0d6efd;
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .parameter-group {
            background-color: #e9ecef;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 5px;
        }

        .parameter-title {
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .result-box {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 1rem;
            margin-top: 1rem;
        }

        .point-input {
            max-width: 80px;
            text-align: center;
        }

        .table-responsive {
            overflow-x: auto;
        }

        .bgc-classification {
            font-weight: bold;
            font-size: 1.2rem;
        }

        .pratama {
            color: #dc3545;
        }

        .madya {
            color: #fd7e14;
        }

        .utama {
            color: #198754;
        }
        
        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .form-check-input {
            margin-right: 8px;
        }
    </style>
</head>

<body>
    <div class="header">
        <div class="container">
            <div class="row">
                <div class="col-md-8">
                    <h1>Kalkulator Penilaian Kinerja BGC Tahap Pemanfaatan</h1>
                    <p class="lead">Sesuai Surat Edaran Menteri PUPR Nomor 22/SE/M/2024</p>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h2>Penilaian Kinerja BGC Tahap Pemanfaatan</h2>
                    </div>
                    <div class="card-body">
                        <!-- Parameter A: Keamanan Siber -->
                        <div class="parameter-group">
                            <h3 class="parameter-title">A. Keamanan Siber</h3>
                            <div class="table-responsive">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th width="5%">No</th>
                                            <th width="35%">Kriteria Unjuk Kerja</th>
                                            <th width="10%">Poin Maks</th>
                                            <th width="25%">Indikator</th>
                                            <th width="25%">Klaim Poin</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- Baris 1: Integritas Data -->
                                        <tr>
                                            <td rowspan="2">1</td>
                                            <td rowspan="2">Integritas data yang disimpan di pusat data</td>
                                            <td rowspan="2">24</td>
                                            <td>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" name="integritas_verifikasi" value="12" id="verifikasi">
                                                    <label class="form-check-label" for="verifikasi">100% data berhasil diverifikasi menggunakan checksum atau hashing</label>
                                                </div>
                                            </td>
                                            <td>
                                                <div id="pointVerifikasi">0</div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" name="integritas_dokumentasi" value="12" id="dokumentasi">
                                                    <label class="form-check-label" for="dokumentasi">100% perubahan data atau riwayat versi data terdokumentasi</label>
                                                </div>
                                            </td>
                                            <td>
                                                <div id="pointDokumentasi">0</div>
                                            </td>
                                        </tr>
                                        
                                        <!-- Baris 2: Redundansi Perangkat Keras -->
                                        <tr>
                                            <td rowspan="4">2</td>
                                            <td rowspan="4">Redundansi perangkat keras</td>
                                            <td rowspan="4">24</td>
                                            <td>Persentase redundansi perangkat kritis</td>
                                            <td>
                                                <div class="radio-group">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="redundansi_persen" value="12" id="redundansi_kurang">
                                                        <label class="form-check-label" for="redundansi_kurang">Kurang dari 100% (12)</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="redundansi_persen" value="12" id="redundansi_100">
                                                        <label class="form-check-label" for="redundansi_100">100% redundansi (12)</label>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Jumlah failover</td>
                                            <td>
                                                <div class="radio-group">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="failover" value="12" id="failover_tidak_ada">
                                                        <label class="form-check-label" for="failover_tidak_ada">Tidak ada informasi jumlah (12)</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="failover" value="12" id="failover_gangguan">
                                                        <label class="form-check-label" for="failover_gangguan">Terjadi gangguan (12)</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="failover" value="12" id="failover_tanpa_gangguan">
                                                        <label class="form-check-label" for="failover_tanpa_gangguan">Tidak ada gangguan selama failover (12)</label>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        
                                        <!-- Baris 3: Analisis Sistem Log -->
                                        <tr>
                                            <td rowspan="3">3</td>
                                            <td rowspan="3">Analisis sistem log</td>
                                            <td rowspan="3">24</td>
                                            <td>Frekuensi analisis</td>
                                            <td>
                                                <div class="radio-group">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="frekuensi_analisis" value="12" id="frekuensi_lebih_1menit">
                                                        <label class="form-check-label" for="frekuensi_lebih_1menit">Setiap lebih dari 1 menit (12)</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="frekuensi_analisis" value="12" id="frekuensi_kadang_1menit">
                                                        <label class="form-check-label" for="frekuensi_kadang_1menit">Kadang-kadang setiap 1 menit (12)</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="frekuensi_analisis" value="12" id="frekuensi_real_time">
                                                        <label class="form-check-label" for="frekuensi_real_time">Instan atau real-time setiap 1 (12)</label>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Deteksi insiden keamanan</td>
                                            <td>
                                                <div class="radio-group">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="deteksi_insiden" value="12" id="deteksi_tidak">
                                                        <label class="form-check-label" for="deteksi_tidak">Insiden keamanan tidak dapat dideteksi (12)</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="deteksi_insiden" value="12" id="deteksi_kurang_95">
                                                        <label class="form-check-label" for="deteksi_kurang_95">Kurang dari 95% terdeteksi (12)</label>
                                                    </div>
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="radio" name="deteksi_insiden" value="12" id="deteksi_lebih_95">
                                                        <label class="form-check-label" for="deteksi_lebih_95">Lebih dari 95% terdeteksi (12)</label>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>

                                        <tr>
                                            <td colspan="2" class="text-end"><strong>Subtotal Poin Parameter A</strong></td>
                                            <td>72</td>
                                            <td></td>
                                            <td id="subtotalA">0</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Hasil Total -->
                        <div class="result-box mt-4">
                            <div class="row">
                                <div class="col-md-6">
                                    <h4>Ringkasan Penilaian</h4>
                                    <table class="table table-sm">
                                        <tbody>
                                            <tr>
                                                <td>A. Keamanan Siber</td>
                                                <td class="text-end" id="displaySubtotalA">0</td>
                                                <td>/72</td>
                                            </tr>
                                            <tr class="table-primary">
                                                <td><strong>Total Poin</strong></td>
                                                <td class="text-end"><strong id="totalPoin">0</strong></td>
                                                <td><strong>/72</strong></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="col-md-6">
                                    <h4>Klasifikasi BGC</h4>
                                    <div class="alert alert-info" id="klasifikasiBgc">
                                        <div class="bgc-classification">
                                            <span id="tingkatBgc">-</span>
                                        </div>
                                        <small class="text-muted" id="deskripsiTingkat">Silakan lengkapi penilaian untuk melihat klasifikasi</small>
                                    </div>

                                    <h5>Kriteria Klasifikasi:</h5>
                                    <ul class="list-unstyled">
                                        <li><span class="pratama">■</span> <strong>Pratama:</strong> 40% - 60%</li>
                                        <li><span class="madya">■</span> <strong>Madya:</strong> 60% - 80%</li>
                                        <li><span class="utama">■</span> <strong>Utama:</strong> 80% - 100%</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="mt-3">
                                <button type="button" class="btn btn-primary" onclick="hitungTotal()">Hitung Total Poin</button>
                                <button type="button" class="btn btn-success" onclick="exportPDF()">Export PDF</button>
                                <button type="button" class="btn btn-secondary" onclick="resetForm()">Reset Form</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Fungsi untuk menghitung poin dari checkbox
        function updateCheckboxPoints() {
            // Poin untuk verifikasi data
            const verifikasiCheckbox = document.getElementById('verifikasi');
            document.getElementById('pointVerifikasi').textContent = verifikasiCheckbox.checked ? '12' : '0';
            
            // Poin untuk dokumentasi
            const dokumentasiCheckbox = document.getElementById('dokumentasi');
            document.getElementById('pointDokumentasi').textContent = dokumentasiCheckbox.checked ? '12' : '0';
        }

        // Event listener untuk checkbox
        document.getElementById('verifikasi').addEventListener('change', updateCheckboxPoints);
        document.getElementById('dokumentasi').addEventListener('change', updateCheckboxPoints);

        // Hitung total semua parameter
        function hitungTotal() {
            updateCheckboxPoints();
            
            let subtotalA = 0;
            
            // Hitung poin dari checkbox
            subtotalA += document.getElementById('verifikasi').checked ? 12 : 0;
            subtotalA += document.getElementById('dokumentasi').checked ? 12 : 0;
            
            // Hitung poin dari radio buttons
            const selectedRedundansi = document.querySelector('input[name="redundansi_persen"]:checked');
            subtotalA += selectedRedundansi ? parseInt(selectedRedundansi.value) : 0;
            
            const selectedFailover = document.querySelector('input[name="failover"]:checked');
            subtotalA += selectedFailover ? parseInt(selectedFailover.value) : 0;
            
            const selectedFrekuensi = document.querySelector('input[name="frekuensi_analisis"]:checked');
            subtotalA += selectedFrekuensi ? parseInt(selectedFrekuensi.value) : 0;
            
            const selectedDeteksi = document.querySelector('input[name="deteksi_insiden"]:checked');
            subtotalA += selectedDeteksi ? parseInt(selectedDeteksi.value) : 0;
            
            document.getElementById('subtotalA').textContent = subtotalA;
            document.getElementById('displaySubtotalA').textContent = subtotalA;
            document.getElementById('totalPoin').textContent = subtotalA;

            // Tentukan klasifikasi berdasarkan persentase
            const persentase = (subtotalA / 72) * 100;
            let tingkat, deskripsi, alertClass;

            if (persentase >= 80) {
                tingkat = 'Utama';
                deskripsi = 'Bangunan gedung cerdas dengan kinerja sangat baik (≥80%)';
                alertClass = 'alert-success';
            } else if (persentase >= 60) {
                tingkat = 'Madya';
                deskripsi = 'Bangunan gedung cerdas dengan kinerja baik (60-79%)';
                alertClass = 'alert-warning';
            } else if (persentase >= 40) {
                tingkat = 'Pratama';
                deskripsi = 'Bangunan gedung cerdas dengan kinerja dasar (40-59%)';
                alertClass = 'alert-danger';
            } else {
                tingkat = 'Belum Memenuhi';
                deskripsi = 'Belum memenuhi standar BGC (<40%)';
                alertClass = 'alert-secondary';
            }

            document.getElementById('tingkatBgc').textContent = tingkat;
            document.getElementById('tingkatBgc').className = tingkat.toLowerCase();
            document.getElementById('deskripsiTingkat').textContent = deskripsi;

            const klasifikasiDiv = document.getElementById('klasifikasiBgc');
            klasifikasiDiv.className = `alert ${alertClass}`;
        }

        // Reset form
        function resetForm() {
            if (confirm('Apakah Anda yakin ingin mereset semua data?')) {
                // Reset checkbox
                document.getElementById('verifikasi').checked = false;
                document.getElementById('dokumentasi').checked = false;
                
                // Reset radio buttons
                document.querySelectorAll('input[type="radio"]').forEach(radio => {
                    radio.checked = false;
                });
                
                // Reset poin display
                document.getElementById('pointVerifikasi').textContent = '0';
                document.getElementById('pointDokumentasi').textContent = '0';
                document.getElementById('subtotalA').textContent = '0';
                document.getElementById('displaySubtotalA').textContent = '0';
                document.getElementById('totalPoin').textContent = '0';

                // Reset klasifikasi
                document.getElementById('tingkatBgc').textContent = '-';
                document.getElementById('deskripsiTingkat').textContent = 'Silakan lengkapi penilaian untuk melihat klasifikasi';
                document.getElementById('klasifikasiBgc').className = 'alert alert-info';
            }
        }

        // Export PDF (placeholder function)
        function exportPDF() {
            alert('Fitur export PDF sedang dalam pengembangan');
        }

        // Event listener untuk radio buttons
        document.addEventListener('change', function(e) {
            if (e.target.type === 'radio') {
                hitungTotal();
            }
        });
    </script>
</body>

</html>